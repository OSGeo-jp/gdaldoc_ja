<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C# Bindings Conda Package &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/api/csharp/csharp_conda.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../../about.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="Java bindings" href="../java/index.html" />
    <link rel="prev" title="C# Bindings Usage Advice" href="csharp_usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../download.html">ダウンロード</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers/raster/index.html">Raster drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers/vector/index.html">Vector drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">ユーザー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/index.html">Sponsors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">ライセンス</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="../index.html">API</a> &raquo;</li>
      
          <li><a href="index.html">C# bindings</a> &raquo;</li>
      
      <li>C# Bindings Conda Package</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/api/csharp/csharp_conda.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="../java/index.html" class="btn btn-neutral float-right" title="Java bindings" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="csharp_usage.html" class="btn btn-neutral float-left" title="C# Bindings Usage Advice" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="c-bindings-conda-package">
<span id="csharp-conda"></span><h1>C# Bindings Conda Package<a class="headerlink" href="#c-bindings-conda-package" title="Link to this heading"></a></h1>
<p>The GDAL C# Bindings Conda Package is a community supported project.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>GDAL with the C# bindings and example applications can be loaded using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">gdal</span><span class="o">-</span><span class="n">csharp</span>
</pre></div>
</div>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<p>The Conda package for GDAL version 3.5.0 and later uses the CMAKE build scripts and therefore there have been changes in the build process and the artifacts produced.</p>
<blockquote>
<div><p><a class="reference internal" href="#csharp-conda-35"><span class="std std-ref">GDAL 3.5.0 and later</span></a></p>
<p><a class="reference internal" href="#csharp-conda-34"><span class="std std-ref">GDAL 3.4.x and earlier</span></a></p>
</div></blockquote>
</section>
<section id="gdal-3-5-0-and-later">
<span id="csharp-conda-35"></span><h2>GDAL 3.5.0 and later<a class="headerlink" href="#gdal-3-5-0-and-later" title="Link to this heading"></a></h2>
<p>The Conda package for GDAL version 3.5.0 and later is built using the new Cmake build scripts.</p>
<section id="net-target-framework">
<h3>.NET Target Framework<a class="headerlink" href="#net-target-framework" title="Link to this heading"></a></h3>
<p>On all architectures (i.e. Windows, Linux and Mac), the bindings are compiled using .NET6.0 as the current (at the time of writing) LTS version.</p>
</section>
<section id="package-artifacts">
<h3>Package Artifacts<a class="headerlink" href="#package-artifacts" title="Link to this heading"></a></h3>
<p>The Conda package contains two sets of artifacts:</p>
<ul class="simple">
<li><p>The SWIG wrapper Dynamic Shared Objects (DSO) - <code class="file docutils literal notranslate"><span class="pre">gdal_wrap.dll</span></code> or <code class="file docutils literal notranslate"><span class="pre">libgdal_wrap.so</span></code> or <code class="file docutils literal notranslate"><span class="pre">libgdal_wrap.dylib</span></code> etc. These are loaded as one would expect for a Conda package (i.e. in the <code class="file docutils literal notranslate"><span class="pre">bin</span></code> folder in Windows and the <code class="file docutils literal notranslate"><span class="pre">lib</span></code> folder in Unix) and thus will automatically link to the correct version of the GDAL DSO and the dependencies, and</p></li>
<li><p>Local NuGet packages for the actual C# bindings (i.e. <code class="file docutils literal notranslate"><span class="pre">gdal_csharp.dll</span></code>, <code class="file docutils literal notranslate"><span class="pre">gdalconst_csharp.dll</span></code>, <code class="file docutils literal notranslate"><span class="pre">osr_csharp.dll</span></code> and <code class="file docutils literal notranslate"><span class="pre">ogr_csharp.dll</span></code>). These are created as packages called <code class="file docutils literal notranslate"><span class="pre">OSGeo.GDAL</span></code>, <code class="file docutils literal notranslate"><span class="pre">OSGeo.OSR</span></code> and <code class="file docutils literal notranslate"><span class="pre">OSGeo.OGR</span></code>. These are loaded into the <code class="file docutils literal notranslate"><span class="pre">share/gdal</span></code> folder.</p></li>
</ul>
</section>
<section id="id1">
<h3>Usage<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>To use the bindings in your application, you will need to basically do the following:</p>
<ol class="arabic simple">
<li><p>Add the relevant Packages to you application as local packages, and</p></li>
<li><p>Add the DSOs to the search path for the application.</p></li>
</ol>
<p>The former is not complicated and can be done by defining a local source, either global (as <a class="reference external" href="https://docs.microsoft.com/en-us/nuget/hosting-packages/local-feeds">is explained here</a> ) or in the build command as is shown below.</p>
<p>The latter can be based on Conda for a console application, as is shown below, but if you are working in an IDE (which being a .NET IDE knows nothing about Conda) and/or working on a GUI application (which is not going to be running in a Conda environment) you are going to have to sort out the DSOs your self; probably involving copying the relevant DSOs into the application package.</p>
</section>
<section id="usage-example-windows">
<h3>Usage Example - Windows<a class="headerlink" href="#usage-example-windows" title="Link to this heading"></a></h3>
<p>The most simple example would be:</p>
<ol class="arabic simple">
<li><p>Create a new application (in a dedicated empty folder)</p></li>
</ol>
<p><strong class="program">dotnet new console</strong></p>
<ol class="arabic simple" start="2">
<li><p>Create a small application (by replacing the contents of <code class="file docutils literal notranslate"><span class="pre">Program.cs</span></code>).</p></li>
</ol>
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">OSGeo.GDAL</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">testapp</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">GdalTest</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Testing GDAL C# Bindings&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">Gdal</span><span class="p">.</span><span class="n">UseExceptions</span><span class="p">();</span>
<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Gdal version {Gdal.VersionInfo(null)}&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Add the GDAL package</p></li>
</ol>
<p><strong class="program">dotnet add package OSGeo.GDAL -s %CONDA_PREFIX%\Library\share\gdal</strong></p>
<ol class="arabic simple" start="4">
<li><p>Compile or run</p></li>
</ol>
<p><strong class="program">dotnet run</strong></p>
<p>Provided you run these commands in a Conda environment (containing the gdal-csharp package) this should just work.</p>
</section>
<section id="usage-example-unix">
<h3>Usage Example - Unix<a class="headerlink" href="#usage-example-unix" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Create a new application (in a dedicated empty folder)</p></li>
</ol>
<p><strong class="program">dotnet new console</strong></p>
<ol class="arabic simple" start="2">
<li><p>Create a small application (by replacing the contents of <code class="file docutils literal notranslate"><span class="pre">Program.cs</span></code>).</p></li>
</ol>
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">OSGeo.GDAL</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">testapp</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">GdalTest</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Testing GDAL C# Bindings&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">Gdal</span><span class="p">.</span><span class="n">UseExceptions</span><span class="p">();</span>
<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&quot;Gdal version {Gdal.VersionInfo(null)}&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Add the GDAL package</p></li>
</ol>
<p><strong class="program">dotnet add package OSGeo.GDAL -s $CONDA_PREFIX/share/gdal</strong></p>
<ol class="arabic simple" start="4">
<li><p>Compile or run</p></li>
</ol>
<p><strong class="program">dotnet run</strong></p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>This will not just work under Unix since, unlike Windows, the Library Search Path is separate from the Process Search path and is not set by Conda.</p>
<p>To make this work, you will probably have to change the Library search path, which is ok for development but should not be accepted for production (which means that you will need to copy the DSOs to the application search path).</p>
<p>Under Linux:</p>
<p><strong class="program">export LD_LIBRARY_PATH=$CONDA_PREFIX/lib</strong></p>
<p>Under OSX:</p>
<p><strong class="program">export DYLD_LIBRARY_PATH=$CONDA_PREFIX/lib</strong></p>
</div>
</section>
</section>
<section id="gdal-3-4-x-and-earlier">
<span id="csharp-conda-34"></span><h2>GDAL 3.4.x and earlier<a class="headerlink" href="#gdal-3-4-x-and-earlier" title="Link to this heading"></a></h2>
<section id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>You can test if the C# bindings are working in a Conda environment by running <strong class="program">%CONDA_PREFIX%\Library\bin\gcs\gdal_test</strong>.</p>
</div>
<p>The DLLs are loaded into the <code class="file docutils literal notranslate"><span class="pre">%CONDA_PREFIX%\Library\bin</span></code> folder, as is normal for a Conda environment.</p>
<p>The  C# sample .EXEs are loaded into  <code class="file docutils literal notranslate"><span class="pre">%CONDA_PREFIX%\Library\bin\gcs</span></code>, because otherwise they over write the standard GDAL tools.</p>
<p>To run a sample application - eg GDALinfo.exe - add <code class="file docutils literal notranslate"><span class="pre">%CONDA_PREFIX%\Library\bin\gcs</span></code> to the path and just run <strong class="program">gdalinfo</strong>.</p>
<p>To link the DLLs into your code, you will need to include the DLLs into the project (which will almost certainly mean copying them to the project directory).</p>
<p>For a console app that is run from within the Conda environment (i.e. run <strong class="program">conda activate</strong>) then they should work once compiled.</p>
<p>For GUI apps or other apps that cannot be run from with the Conda environment then you will have to setup the environment to make the GDAL DLLs available to the app.</p>
</section>
<section id="mac-linux">
<h3>Mac / Linux<a class="headerlink" href="#mac-linux" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>You test if the C# bindings are working in a Conda environment by running <strong class="program">mono $CONDA_PREFIX/lib/gdal_test.exe</strong></p>
</div>
<p>The shared objects (i.e. <code class="file docutils literal notranslate"><span class="pre">*.so</span></code> / <code class="file docutils literal notranslate"><span class="pre">*.dylib</span></code>), the .EXE and .DLL files are all loaded into the <code class="file docutils literal notranslate"><span class="pre">$CONDA_PREFIX/lib</span></code>
folder (not the <code class="file docutils literal notranslate"><span class="pre">bin</span></code> folder as you might expect). This is in line with <a class="reference external" href="https://www.mono-project.com/docs/getting-started/application-deployment/">the Mono documentation</a>.</p>
<p>To run one of the sample applications (e.g. <code class="file docutils literal notranslate"><span class="pre">GDALinfo.exe</span></code>), run <strong class="program">mono $CONDA_PREFIX/lib/GDALinfo.exe</strong>.</p>
<p>To build a console app in Mono, you can do this in a conda environment simple using a command similar to this (changing the source name to your own):</p>
<div class="highlight-C# notranslate"><div class="highlight"><pre><span></span><span class="n">msc</span><span class="w"> </span><span class="o">/</span><span class="n">r</span><span class="p">:</span><span class="n">gdal_csharp</span><span class="p">.</span><span class="n">dll</span><span class="w"> </span><span class="o">/</span><span class="n">r</span><span class="p">:</span><span class="n">ogr_csharp</span><span class="p">.</span><span class="n">dll</span><span class="w"> </span><span class="o">/</span><span class="n">r</span><span class="p">:</span><span class="n">osr_csharp</span><span class="p">.</span><span class="n">dll</span><span class="w"> </span><span class="o">/</span><span class="n">r</span><span class="p">:</span><span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">dll</span><span class="w"> </span><span class="o">/</span><span class="k">out</span><span class="p">:</span><span class="n">gdal_test</span><span class="p">.</span><span class="n">exe</span><span class="w"> </span><span class="n">gdal_test</span><span class="p">.</span><span class="n">cs</span>
</pre></div>
</div>
<p>If the compiled executable is run in the conda environment, this should work. For something more portable or a GUI app, then you have to work out the dependencies your self.</p>
<p>The DLLs can also be used in a .NET project, for instance built in VS. Just link the DLLs in as dependencies.</p>
</section>
<section id="differences-in-the-conda-build">
<h3>Differences in the Conda build<a class="headerlink" href="#differences-in-the-conda-build" title="Link to this heading"></a></h3>
<p>The Conda build is in some ways different from the &quot;standard&quot; GDAL 3.4.x build:</p>
<ul class="simple">
<li><p>On Mac and Linux, the SWIG files are built as <code class="file docutils literal notranslate"><span class="pre">*_wrap</span></code> in line with the windows versions. This means that there are no <code class="file docutils literal notranslate"><span class="pre">.config</span></code> files. Most importantly, this means that the DLLs can be used in .NET and Unity projects as well as Mono.</p></li>
<li><p>On Windows, the sample apps are built in .NET5 and not .NET CORE 2.1.</p></li>
</ul>
<p>These changes anticipated the standard build for GDAL 3.5.x.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../java/index.html" class="btn btn-neutral float-right" title="Java bindings" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="csharp_usage.html" class="btn btn-neutral float-left" title="C# Bindings Usage Advice" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>