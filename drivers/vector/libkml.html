<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LIBKML Driver (.kml .kmz) &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/drivers/vector/libkml.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../../about.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="Dutch Kadaster LV BAG 2.0 Extract" href="lvbag.html" />
    <link rel="prev" title="KML - Keyhole Markup Language" href="kml.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">ダウンロード</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">プログラム</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrow.html">(Geo)Arrow IPC File Format / Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD -- AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG -- GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtfs.html">GTFS - General Transit Feed Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="hana.html">SAP HANA</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">&quot;INTERLIS 1&quot; and &quot;INTERLIS 2&quot; drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="jsonfg.html">JSONFG -- OGC Features and Geometries JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LIBKML Driver (.kml .kmz)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datasource">Datasource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#styletable">StyleTable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datasource-creation-options">Datasource creation options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#layer">Layer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#style">Style</a></li>
<li class="toctree-l4"><a class="reference internal" href="#schema">Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layer-creation-options">Layer creation options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#feature">Feature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#style-1">Style</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fields">Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geometry">Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vsi-virtual-file-system-api-support">VSI Virtual File System API support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lvbag.html">Dutch Kadaster LV BAG 2.0 Extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="miramon.html">MiraMon Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW -- NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase vector (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="parquet.html">(Geo)Parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF -- Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmtiles.html">PMTiles -- ProtoMaps Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiledb.html">TileDB -- TileDB vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vrt.html">VRT -- Virtual Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">ユーザー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">チュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/index.html">Sponsors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>LIBKML Driver (.kml .kmz)</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/drivers/vector/libkml.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="lvbag.html" class="btn btn-neutral float-right" title="Dutch Kadaster LV BAG 2.0 Extract" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kml.html" class="btn btn-neutral float-left" title="KML - Keyhole Markup Language" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="libkml-driver-kml-kmz">
<span id="vector-libkml"></span><h1>LIBKML Driver (.kml .kmz)<a class="headerlink" href="#libkml-driver-kml-kmz" title="Link to this heading"></a></h1>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>LIBKML</p>
</div>
<div class="admonition build_dependencies" id="build_dependencies-0">
<p class="admonition-title">Build dependencies</p>
<p>libkml</p>
</div>
<p>The LIBKML driver is a client of
<a class="reference external" href="https://github.com/libkml/libkml">Libkml</a> , a reference
implementation of <a class="reference external" href="http://www.opengeospatial.org/standards/kml/">KML</a>
reading and writing, in the form of a cross platform C++ library. You
must build and install Libkml in order to use this OGR driver. Note: you
need to build libkml 1.3 or master.</p>
<p>Note that if you build and include this LIBKML driver, it will become
the default reader of KML for ogr, overriding the previous <a class="reference internal" href="kml.html#vector-kml"><span class="std std-ref">KML
driver</span></a>. You can still specify either KML or LIBKML as
the output driver via the command line</p>
<p>Libkml from Google provides reading services for any valid KML file.
However, please be advised that some KML facilities do not map into the
Simple Features specification OGR uses as its internal structure.
Therefore, a best effort will be made by the driver to understand the
content of a KML file read by libkml into ogr, but your mileage may
vary. Please try a few KML files as samples to get a sense of what is
understood. In particular, nesting of feature sets more than one deep
will be flattened to support ogr's internal format.</p>
<section id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Link to this heading"></a></h2>
<div class="admonition supports_create" id="supports_create-0">
<p class="admonition-title">Supports Create()</p>
<p>This driver supports the <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDriver::Create()</span></code> operation</p>
</div>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</section>
<section id="datasource">
<h2>Datasource<a class="headerlink" href="#datasource" title="Link to this heading"></a></h2>
<p>You may specify a datasource
as a kml file <code class="docutils literal notranslate"><span class="pre">somefile.kml</span></code> , a directory <code class="docutils literal notranslate"><span class="pre">somedir/</span></code> , or a kmz
file <code class="docutils literal notranslate"><span class="pre">somefile.kmz</span></code> .</p>
<p>By default on directory and kmz datasources, an index file of all the
layers will be read from or written to doc.kml. It contains a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#networklink">&lt;NetworkLink&gt;</a>
to each layer file in the datasource. This feature can be turned off by
setting the configuration option <a class="reference internal" href="#config-LIBKML_USE_DOC.KML"><code class="docutils literal notranslate"><span class="pre">LIBKML_USE_DOC.KML</span></code></a>
to &quot;NO&quot;:</p>
<ul class="simple">
<li><p id="config-LIBKML_USE_DOC.KML"><strong>LIBKML_USE_DOC.KML=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. Use a <code class="docutils literal notranslate"><span class="pre">doc.kml</span></code> index file.</p>
</li>
</ul>
<section id="styletable">
<h3>StyleTable<a class="headerlink" href="#styletable" title="Link to this heading"></a></h3>
<p>Datasource style tables are written to the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
in a .kml, style/style.kml in a kmz file, or style.kml in a directory,
as one or more
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#style">&lt;Style&gt;</a>
elements. Not all of <a class="reference internal" href="../../user/ogr_feature_style.html#ogr-feature-style"><span class="std std-ref">Feature Style Specification</span></a> can translate into
KML.</p>
</section>
<section id="datasource-creation-options">
<h3>Datasource creation options<a class="headerlink" href="#datasource-creation-options" title="Link to this heading"></a></h3>
<p>The following datasource creation options can be
used to generate a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#atomauthor">&lt;atom:Author&gt;</a>
element at the top Document level.</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-dsco-AUTHOR_NAME"><strong>AUTHOR_NAME=value: </strong>Specifieds the value of the <code class="docutils literal notranslate"><span class="pre">&lt;atom:name&gt;</span></code> element.</p>
</li>
<li><p id="drivers/vector/libkml-dsco-AUTHOR_URI"><strong>AUTHOR_URI=value: </strong>Specifieds the value of the <code class="docutils literal notranslate"><span class="pre">&lt;atom:uri&gt;</span></code> element.
It should start with <code class="docutils literal notranslate"><span class="pre">http://</span></code> or <code class="docutils literal notranslate"><span class="pre">https://</span></code></p>
</li>
<li><p id="drivers/vector/libkml-dsco-AUTHOR_EMAIL"><strong>AUTHOR_EMAIL=value: </strong>Specifieds the value of the <code class="docutils literal notranslate"><span class="pre">&lt;atom:email&gt;</span></code> element.
It should include a <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> character.</p>
</li>
</ul>
<p>Additional datasource creation options affecting the top Document level:</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-dsco-LINK"><strong>LINK=value: </strong>Specifies the href of an
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#atomlink">&lt;atom:link&gt;</a>
element at the top Document level.</p>
</li>
<li><p id="drivers/vector/libkml-dsco-PHONENUMBER"><strong>PHONENUMBER=value: </strong>Specifies the value of the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#phonenumber">&lt;phoneNumber&gt;</a>
element at the top Document level. The value must follow the syntax of
<a class="reference external" href="http://tools.ietf.org/html/rfc3966">IETF RFC 3966</a>.</p>
</li>
<li><p id="drivers/vector/libkml-dsco-DOCUMENT_ID"><strong>DOCUMENT_ID=value: </strong> (GDAL &gt;= 2.2)  Defaults to <code class="docutils literal notranslate"><span class="pre">root_doc</span></code>. Specifies the id of the root &lt;Document&gt; node.</p>
</li>
</ul>
<section id="container-properties">
<h4>Container properties<a class="headerlink" href="#container-properties" title="Link to this heading"></a></h4>
<p>The following dataset creation options can be used to set container
options :</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-dsco-NAME"><strong>NAME=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-VISIBILITY"><strong>VISIBILITY=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#visibility">&lt;visibility&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-OPEN"><strong>OPEN=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#open">&lt;open&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-SNIPPET"><strong>SNIPPET=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#snippet">&lt;snippet&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-DESCRIPTION"><strong>DESCRIPTION=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#description">&lt;description&gt;</a>
element</p>
</li>
</ul>
</section>
<section id="list-style">
<h4>List style<a class="headerlink" href="#list-style" title="Link to this heading"></a></h4>
<p>The following dataset creation options can be used to control how the
main folder (folder of layers) appear in the Places panel of the Earth
browser, trough a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#liststyle">&lt;ListStyle&gt;</a>
element:</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-dsco-LISTSTYLE_TYPE"><strong>LISTSTYLE_TYPE=[check/radioFolder/checkOffOnly/checkHideChildren]: </strong>Sets the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#listItemType">&lt;listItemType&gt;</a>
element.</p>
</li>
<li><p id="drivers/vector/libkml-dsco-LISTSTYLE_ICON_HREF"><strong>LISTSTYLE_ICON_HREF=value: </strong>URL of the icon to display for the main
folder. Sets the href element of the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#itemicon">&lt;ItemIcon&gt;</a>
element.</p>
</li>
</ul>
</section>
<section id="balloon-style">
<h4>Balloon style<a class="headerlink" href="#balloon-style" title="Link to this heading"></a></h4>
<p>If a style <em>foo</em> is defined, it is possible to add a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#balloonstyle">&lt;BalloonStyle&gt;</a>
element to it, by specifying the <strong>foo_BALLOONSTYLE_BGCOLOR</strong> and/or
<strong>foo_BALLOONSTYLE_TEXT</strong> elements.</p>
</section>
<section id="networklinkcontrol">
<h4>NetworkLinkControl<a class="headerlink" href="#networklinkcontrol" title="Link to this heading"></a></h4>
<p>A
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#networklinkcontrol">&lt;NetworkLinkControl&gt;</a>
element can be defined if at least one of the following dataset creation
option is specified:</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-dsco-NLC_MINREFRESHPERIOD"><strong>NLC_MINREFRESHPERIOD=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#minrefreshperiod">&lt;minRefreshPeriod&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_MAXSESSIONLENGTH"><strong>NLC_MAXSESSIONLENGTH=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxsessionlength">&lt;maxSessionLength&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_COOKIE"><strong>NLC_COOKIE=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#cookie">&lt;cookie&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_MESSAGE"><strong>NLC_MESSAGE=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#message">&lt;message&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_LINKNAME"><strong>NLC_LINKNAME=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linkname">&lt;linkName&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_LINKDESCRIPTION"><strong>NLC_LINKDESCRIPTION=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linkdescription">&lt;linkDescription&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_LINKSNIPPET"><strong>NLC_LINKSNIPPET=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linksnippet">&lt;linkSnippet&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-dsco-NLC_EXPIRES"><strong>NLC_EXPIRES=value: </strong>to set the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#expires">&lt;expires&gt;</a>
element</p>
</li>
</ul>
</section>
<section id="update-documents">
<h4>Update documents<a class="headerlink" href="#update-documents" title="Link to this heading"></a></h4>
<p>When defining the dataset creation option <strong>UPDATE_TARGETHREF</strong>, a
NetworkLinkControl KML file with an
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#update">&lt;Update&gt;</a>
element will be generated. See the <a class="reference external" href="https://developers.google.com/kml/documentation/updates">tutorial about
update</a>.</p>
<p>The CreateFeature() operation on a layer will be translated as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#create">&lt;Create&gt;</a>
element.</p>
<p>The SetFeature() operation on a layer will be translated as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#change">&lt;Change&gt;</a>
element.</p>
<p>The DeleteFeature() operation on a layer will be translated as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#delete">&lt;Delete&gt;</a>
element.</p>
</section>
</section>
</section>
<section id="layer">
<h2>Layer<a class="headerlink" href="#layer" title="Link to this heading"></a></h2>
<p><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRLayer</span></code> are mapped
to kml files as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
or
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#folder">&lt;Folder&gt;</a>,
and in kmz files or directories as a separate kml file.</p>
<section id="style">
<h3>Style<a class="headerlink" href="#style" title="Link to this heading"></a></h3>
<p>Layer style tables can not be read from or written to a kml layer that
is a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#folder">&lt;Folder&gt;</a>,
otherwise they are in the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
that is the layer.</p>
</section>
<section id="schema">
<h3>Schema<a class="headerlink" href="#schema" title="Link to this heading"></a></h3>
<p>Read and write of
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#schema">&lt;Schema&gt;</a>
is supported for .kml files, .kmz files, and directories.</p>
</section>
<section id="layer-creation-options">
<h3>Layer creation options<a class="headerlink" href="#layer-creation-options" title="Link to this heading"></a></h3>
<p>The following layer creation options can be used
to generate a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#lookat">&lt;LookAt&gt;</a>
element at the layer level.</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-LOOKAT_LONGITUDE"><strong>LOOKAT_LONGITUDE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-LOOKAT_LATITUDE"><strong>LOOKAT_LATITUDE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-LOOKAT_RANGE"><strong>LOOKAT_RANGE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-LOOKAT_HEADING"><strong>LOOKAT_HEADING=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-LOOKAT_TILT"><strong>LOOKAT_TILT=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-LOOKAT_ALTITUDE"><strong>LOOKAT_ALTITUDE=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-LOOKAT_ALTITUDEMODE"><strong>LOOKAT_ALTITUDEMODE=value: </strong></p>
</li>
</ul>
<p>Alternatively, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>
element can be generated.</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-CAMERA_LONGITUDE"><strong>CAMERA_LONGITUDE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-CAMERA_LATITUDE"><strong>CAMERA_LATITUDE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-CAMERA_ALTITUDE"><strong>CAMERA_ALTITUDE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-CAMERA_ALTITUDEMODE"><strong>CAMERA_ALTITUDEMODE=value: </strong> (required) </p>
</li>
<li><p id="drivers/vector/libkml-lco-CAMERA_HEADING"><strong>CAMERA_HEADING=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-CAMERA_TILT"><strong>CAMERA_TILT=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-CAMERA_ROLL"><strong>CAMERA_ROLL=value: </strong></p>
</li>
</ul>
<p>A
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#region">&lt;Region&gt;</a>
element can be generated to control when objects of the layer are
visible or not. If <a class="reference internal" href="#drivers/vector/libkml-lco-REGION_XMIN"><code class="docutils literal notranslate"><span class="pre">REGION_XMIN</span></code></a>, <a class="reference internal" href="#drivers/vector/libkml-lco-REGION_YMIN"><code class="docutils literal notranslate"><span class="pre">REGION_YMIN</span></code></a>, <a class="reference internal" href="#drivers/vector/libkml-lco-REGION_XMAX"><code class="docutils literal notranslate"><span class="pre">REGION_XMAX</span></code></a> and
<a class="reference internal" href="#drivers/vector/libkml-lco-REGION_YMAX"><code class="docutils literal notranslate"><span class="pre">REGION_YMAX</span></code></a>, the region coordinates are determined from the spatial
extent of the features being written in the layer.</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-ADD_REGION"><strong>ADD_REGION=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">NO</span></code>. </p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_XMIN"><strong>REGION_XMIN=value: </strong>defines the west coordinate of the region.</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_YMIN"><strong>REGION_YMIN=value: </strong>defines the south coordinate of the region.</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_XMAX"><strong>REGION_XMAX=value: </strong>defines the east coordinate of the region.</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_YMAX"><strong>REGION_YMAX=value: </strong>defines the north coordinate of the region.</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_MIN_LOD_PIXELS"><strong>REGION_MIN_LOD_PIXELS=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">256</span></code>. minimum size in pixels of the region so that it is displayed.</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_MAX_LOD_PIXELS"><strong>REGION_MAX_LOD_PIXELS=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">-1</span></code>. maximum size in pixels of the
region so that it is displayed. Defaults to -1 (infinite).</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_MIN_FADE_EXTENT"><strong>REGION_MIN_FADE_EXTENT=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>. distance over which the
geometry fades, from fully opaque to fully transparent.</p>
</li>
<li><p id="drivers/vector/libkml-lco-REGION_MAX_FADE_EXTENT"><strong>REGION_MAX_FADE_EXTENT=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>. distance over which the
geometry fades, from fully transparent to fully opaque.</p>
</li>
</ul>
<p>A
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#screenoverlay">&lt;ScreenOverlay&gt;</a>
element can be added to display a logo, a legend, etc...</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-SO_HREF"><strong>SO_HREF=value: </strong> (required) URL of the image to display.</p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_NAME"><strong>SO_NAME=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_DESCRIPTION"><strong>SO_DESCRIPTION=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_OVERLAY_X"><strong>SO_OVERLAY_X=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_OVERLAY_Y"><strong>SO_OVERLAY_Y=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_OVERLAY_XUNITS"><strong>SO_OVERLAY_XUNITS=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_OVERLAY_YUNITS"><strong>SO_OVERLAY_YUNITS=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SCREEN_X"><strong>SO_SCREEN_X=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">0.05</span></code>. </p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SCREEN_Y"><strong>SO_SCREEN_Y=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">0.05</span></code>. </p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SCREEN_XUNITS"><strong>SO_SCREEN_XUNITS=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">Fraction</span></code>. </p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SCREEN_YUNITS"><strong>SO_SCREEN_YUNITS=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">Fraction</span></code>. </p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SIZE_X"><strong>SO_SIZE_X=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SIZE_Y"><strong>SO_SIZE_Y=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SIZE_XUNITS"><strong>SO_SIZE_XUNITS=value: </strong></p>
</li>
<li><p id="drivers/vector/libkml-lco-SO_SIZE_YUNITS"><strong>SO_SIZE_YUNITS=value: </strong></p>
</li>
</ul>
<p>The following option controls whether layers are written as a Document or a Folder:</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-FOLDER"><strong>FOLDER=[YES/NO]: </strong>By default, layers are written as
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#document">&lt;Document&gt;</a>
elements. By setting this option to YES, it is
also possible to write them as
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#folder">&lt;Folder&gt;</a>
elements (only in .kml files).</p>
</li>
</ul>
<p>The following layer creation options can be used to set container
options :</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-NAME"><strong>NAME=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-lco-VISIBILITY"><strong>VISIBILITY=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#visibility">&lt;visibility&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-lco-OPEN"><strong>OPEN=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#open">&lt;open&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-lco-SNIPPET"><strong>SNIPPET=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#snippet">&lt;snippet&gt;</a>
element</p>
</li>
<li><p id="drivers/vector/libkml-lco-DESCRIPTION"><strong>DESCRIPTION=value: </strong><a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#description">&lt;description&gt;</a>
element</p>
</li>
</ul>
<p>The following layer creation options can be used to control how the
folder of a layer appear in the Places panel of the Earth browser,
trough a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#liststyle">&lt;ListStyle&gt;</a>
element:</p>
<ul class="simple">
<li><p id="drivers/vector/libkml-lco-LISTSTYLE_TYPE"><strong>LISTSTYLE_TYPE=[check/radioFolder/checkOffOnly/checkHideChildren]: </strong>Sets the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#listItemType">&lt;listItemType&gt;</a>
element.</p>
</li>
<li><p id="drivers/vector/libkml-lco-LISTSTYLE_ICON_HREF"><strong>LISTSTYLE_ICON_HREF=value: </strong>URL of the icon to display for the layer
folder. Sets the href element of the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#itemicon">&lt;ItemIcon&gt;</a>
element.</p>
</li>
</ul>
</section>
</section>
<section id="feature">
<h2>Feature<a class="headerlink" href="#feature" title="Link to this heading"></a></h2>
<p>An <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRFeature</span></code>
generally translates to kml as a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#placemark">&lt;Placemark&gt;</a>,
and vice-versa.</p>
<p>If the model field is defined, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#model">&lt;Model&gt;</a>
object within the Placemark will be generated.</p>
<p>If the networklink field is defined, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#networklink">&lt;NetworkLink&gt;</a>
will be generated. Other networklink fields are optional.</p>
<p>If the photooverlay field is defined, a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>
will be generated (provided that the camera_longitude, camera_latitude,
camera_altitude, camera_altitudemode, head and/or tilt and/or roll,
leftfov, rightfov, bottomfov, topfov, near fields are also set. The
shape field is optional.</p>
<p>In case the PhotoOverlay is a big image, it is highly recommended to
tile it and generate overview levels, as explained in the <a class="reference external" href="https://developers.google.com/kml/documentation/photos">PhotoOverlay
tutorial</a>. In
which case, the URL should contain the &quot;$[level]&quot;, &quot;$[x]&quot; and &quot;$[y]&quot;
sub-strings in the photooverlay field, and the imagepyramid_tilesize,
imagepyramid_maxwidth, imagepyramid_maxheight and
imagepyramid_gridorigin fields should be set.</p>
<p>Placemark, Model, NetworkLink and PhotoOverlay objects can have an
associated camera if the camera_longitude, camera_latitude,
camera_altitude, camera_altitudemode, head and/or tilt and/or roll
fields are defined.</p>
<p>KML <a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#groundoverlay">&lt;GroundOverlay&gt;</a>
elements are supported for reading (unless the
<a class="reference internal" href="#config-LIBKML_READ_GROUND_OVERLAY"><code class="docutils literal notranslate"><span class="pre">LIBKML_READ_GROUND_OVERLAY</span></code></a> configuration option is set to FALSE). For
such elements, there are icon and drawOrder fields.</p>
<p>The following configuration options affect reading of features:</p>
<ul class="simple">
<li><p id="config-LIBKML_READ_GROUND_OVERLAY"><strong>LIBKML_READ_GROUND_OVERLAY=[TRUE/FALSE]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>. If <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>, skip reading GroundOverlay elements.</p>
</li>
</ul>
<section id="style-1">
<span id="id1"></span><h3>Style<a class="headerlink" href="#style-1" title="Link to this heading"></a></h3>
<p>Style Strings at the feature level are Mapped to KML as either a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#style">&lt;Style&gt;</a>
or
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#styleurl">&lt;StyleUrl&gt;</a>
in each
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#placemark">&lt;Placemark&gt;</a>.</p>
<p>The following configuration options affect handling of styles:</p>
<ul class="simple">
<li><p id="config-LIBKML_RESOLVE_STYLE"><strong>LIBKML_RESOLVE_STYLE=[YES/NO]: </strong>When reading a kml feature and this option
is set to yes, styleurls are looked up in the style
tables and the features style string is set to the style from the table.
This is to allow reading of shared styles by applications, like
MapServer, that do not read style tables.</p>
</li>
<li><p id="config-LIBKML_EXTERNAL_STYLE"><strong>LIBKML_EXTERNAL_STYLE=[YES/NO]: </strong>When reading a kml feature and this option
is set to yes, a styleurl that is external to the
datasource is read from disk or fetched from the server and parsed into
the datasource style table. If the style kml can not be read or
<a class="reference internal" href="#config-LIBKML_EXTERNAL_STYLE"><code class="docutils literal notranslate"><span class="pre">LIBKML_EXTERNAL_STYLE=NO</span></code></a> then the styleurl is copied to the
style string.</p>
</li>
<li><p id="config-LIBKML_STYLEMAP_KEY"><strong>LIBKML_STYLEMAP_KEY=value: </strong>When reading a kml StyleMap the default mapping is set to normal. If you
wish to use the highlighted styles set this configuration option
to &quot;highlight&quot;</p>
</li>
</ul>
<p>When writing a kml, if there exist 2 styles of the form
&quot;astylename_normal&quot; and &quot;astylename_highlight&quot; (where astylename is any
string), then a StyleMap object will be creating from both styles and
called &quot;astylename&quot;.</p>
</section>
</section>
<section id="fields">
<h2>Fields<a class="headerlink" href="#fields" title="Link to this heading"></a></h2>
<p>OGR fields (feature attributes) are mapped to kml with
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#schema">&lt;Schema&gt;</a>;
and
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#simpledata">&lt;SimpleData&gt;</a>,
except for some special fields as noted below.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<blockquote>
<div><p>It is also possible to export fields as
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#data">&lt;Data&gt;</a>
elements using the following configuration option:</p>
</div></blockquote>
<p id="config-LIBKML_USE_SIMPLEFIELD"><strong>LIBKML_USE_SIMPLEFIELD=[YES/NO]: </strong>If <code class="docutils literal notranslate"><span class="pre">NO</span></code>, export fields as &lt;Data&gt;.</p>
</div>
<p>A rich set of <a class="reference internal" href="../../user/configoptions.html#configoptions"><span class="std std-ref">configuration options</span></a> are
available to define how fields in input and output, map to a KML
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#placemark">&lt;Placemark&gt;</a>.
For example, if you want a field called 'Cities' to map to the
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>;
tag in KML, you can set a configuration option.</p>
<ul class="simple">
<li><p id="config-LIBKML_NAME_FIELD"><strong>LIBKML_NAME_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">name</span></code>. Name of the string field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#name">&lt;name&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_DESCRIPTION_FIELD"><strong>LIBKML_DESCRIPTION_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">description</span></code>. Name of the string field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#description">&lt;description&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_TIMESTAMP_FIELD"><strong>LIBKML_TIMESTAMP_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">timestamp</span></code>. Name of the string/datetime/date/time field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#timestamp">&lt;timestamp&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_BEGIN_FIELD"><strong>LIBKML_BEGIN_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">begin</span></code>. Name of the string/datetime/date/time field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#begin">&lt;begin&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_END_FIELD"><strong>LIBKML_END_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">end</span></code>. Name of the string/datetime/date/time field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#end">&lt;end&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_ALTITUDEMODE_FIELD"><strong>LIBKML_ALTITUDEMODE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">altitudeMode</span></code>. Name of the string field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#altitudemode">&lt;altitudeMode&gt;</a>
or
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#gxaltitudemode">&lt;gx:altitudeMode&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_TESSELLATE_FIELD"><strong>LIBKML_TESSELLATE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">tessellate</span></code>. Name of the integer field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#tessellate">&lt;tessellate&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_EXTRUDE_FIELD"><strong>LIBKML_EXTRUDE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">extrude</span></code>. Name of the integer field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#extrude">&lt;extrude&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_VISIBILITY_FIELD"><strong>LIBKML_VISIBILITY_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">visibility</span></code>. Name of the integer field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#visibility">&lt;visibility&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_ICON_FIELD"><strong>LIBKML_ICON_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">icon</span></code>. Name of the string field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#icon">&lt;icon&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_DRAWORDER_FIELD"><strong>LIBKML_DRAWORDER_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">drawOrder</span></code>. Name of the integer field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#draworder">&lt;drawOrder&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_SNIPPET_FIELD"><strong>LIBKML_SNIPPET_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">snippet</span></code>. Name of the integer field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#snippet">&lt;snippet&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_HEADING_FIELD"><strong>LIBKML_HEADING_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">heading</span></code>. Name of the real field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#heading">&lt;heading&gt;</a>.
When reading, this field is present
only if a Placemark has a Camera with a heading element.</p>
</li>
<li><p id="config-LIBKML_TILT_FIELD"><strong>LIBKML_TILT_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">tilt</span></code>. Name of the real field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#tilt">&lt;tilt&gt;</a>.
When reading, this field is present only
if a Placemark has a Camera with a tilt element.</p>
</li>
<li><p id="config-LIBKML_ROLL_FIELD"><strong>LIBKML_ROLL_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">roll</span></code>. Name of the real field that maps to the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#roll">&lt;roll&gt;</a>.
When reading, this field is present only
if a Placemark has a Camera with a roll element.</p>
</li>
<li><p id="config-LIBKML_MODEL_FIELD"><strong>LIBKML_MODEL_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">model</span></code>. Name of the string field that can be used to define the URL of a 3D
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#model">&lt;model&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_SCALE_X_FIELD"><strong>LIBKML_SCALE_X_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">scale_x</span></code>. Name of the real field that maps to the x element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#scale">&lt;scale&gt;</a>
for a 3D model.</p>
</li>
<li><p id="config-LIBKML_SCALE_Y_FIELD"><strong>LIBKML_SCALE_Y_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">scale_y</span></code>. Name of the real field that maps to the y element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#scale">&lt;scale&gt;</a>for
a 3D model.</p>
</li>
<li><p id="config-LIBKML_SCALE_Z_FIELD"><strong>LIBKML_SCALE_Z_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">scale_z</span></code>. Name of the real field that maps to the z element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#scale">&lt;scale&gt;</a>for
a 3D model.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_FIELD"><strong>LIBKML_NETWORKLINK_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink</span></code>. Name of the string field that maps to the href element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#href">&lt;href&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_REFRESHVISIBILITY_FIELD"><strong>LIBKML_NETWORKLINK_REFRESHVISIBILITY_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_refreshvisibility</span></code>. Name of the integer field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#refreshvisibility">&lt;refreshVisibility&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_FLYTOVIEW_FIELD"><strong>LIBKML_NETWORKLINK_FLYTOVIEW_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_flytoview</span></code>. Name of the integer field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#flytoview">&lt;flyToView&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_REFRESHMODE_FIELD"><strong>LIBKML_NETWORKLINK_REFRESHMODE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_refreshmode</span></code>. Name of the string field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#refreshmode">&lt;refreshMode&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_REFRESHINTERVAL_FIELD"><strong>LIBKML_NETWORKLINK_REFRESHINTERVAL_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_refreshinterval</span></code>. Name of the real field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#refreshinterval">&lt;refreshInterval&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_VIEWREFRESHMODE_FIELD"><strong>LIBKML_NETWORKLINK_VIEWREFRESHMODE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_viewrefreshmode</span></code>. Name of the string field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewrefreshmode">&lt;viewRefreshMode&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_VIEWREFRESHTIME_FIELD"><strong>LIBKML_NETWORKLINK_VIEWREFRESHTIME_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_viewrefreshtime</span></code>. Name of the real field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewrefreshtime">&lt;viewRefreshTime&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_NETWORKLINK_VIEWBOUNDSCALE_FIELD"><strong>LIBKML_NETWORKLINK_VIEWBOUNDSCALE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_viewboundscale</span></code>. Name of the real field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#viewboundscale">&lt;viewBoundScale&gt;</a>
of a NetworkLink.</p>
</li>
<li></li>
<li><p id="config-LIBKML_NETWORKLINK_HTTPQUERY_FIELD"><strong>LIBKML_NETWORKLINK_HTTPQUERY_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">networklink_httpquery</span></code>. Name of the string field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#httpquery">&lt;httpQuery&gt;</a>
of a NetworkLink.</p>
</li>
<li><p id="config-LIBKML_CAMERA_LONGITUDE_FIELD"><strong>LIBKML_CAMERA_LONGITUDE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">camera_longitude</span></code>. Name of the real field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#longitude">&lt;longitude&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.</p>
</li>
<li></li>
<li><p id="config-LIBKML_CAMERA_ALTITUDE_FIELD"><strong>LIBKML_CAMERA_ALTITUDE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">camera_altitude</span></code>. Name of the real field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#altitude">&lt;altitude&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_CAMERA_ALTITUDEMODE_FIELD"><strong>LIBKML_CAMERA_ALTITUDEMODE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">camera_altitudemode</span></code>. Name of the real field that maps to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#altitudemode">&lt;altitudeMode&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">&lt;Camera&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_PHOTOOVERLAY_FIELD"><strong>LIBKML_PHOTOOVERLAY_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">photooverlay</span></code>. Name of the string field that maps to the href element of the kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#href">&lt;href&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_LEFTFOV_FIELD"><strong>LIBKML_LEFTFOV_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">leftfov</span></code>. Name of the real field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#leftfov">&lt;LeftFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_RIGHTFOV_FIELD"><strong>LIBKML_RIGHTFOV_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">rightfov</span></code>. Name of the real field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#rightfov">&lt;RightFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_BOTTOMFOV_FIELD"><strong>LIBKML_BOTTOMFOV_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">bottomfov</span></code>. Name of the real field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#bottomfov">&lt;BottomFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_TOPFOV_FIELD"><strong>LIBKML_TOPFOV_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">topfov</span></code>. Name of the real field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#topfov">&lt;TopFov&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_NEARFOV_FIELD"><strong>LIBKML_NEARFOV_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">near</span></code>. Name of the real field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#leftfov">&lt;Near&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_PHOTOOVERLAY_SHAPE_FIELD"><strong>LIBKML_PHOTOOVERLAY_SHAPE_FIELD=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">shape</span></code>. Name of the string field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#shape">&lt;shape&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#photooverlay">&lt;PhotoOverlay&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_IMAGEPYRAMID_TILESIZE"><strong>LIBKML_IMAGEPYRAMID_TILESIZE=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">imagepyramid_tilesize</span></code>. Name of the integer field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#tilesize">&lt;tileSize&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_IMAGEPYRAMID_MAXWIDTH"><strong>LIBKML_IMAGEPYRAMID_MAXWIDTH=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">imagepyramid_maxwidth</span></code>. Name of the integer field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxwidth">&lt;maxWidth&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_IMAGEPYRAMID_MAXHEIGHT"><strong>LIBKML_IMAGEPYRAMID_MAXHEIGHT=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">imagepyramid_maxheight</span></code>. Name of the integer field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxheight">&lt;maxHeight&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.</p>
</li>
<li><p id="config-LIBKML_IMAGEPYRAMID_GRIDORIGIN"><strong>LIBKML_IMAGEPYRAMID_GRIDORIGIN=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">imagepyramid_gridorigin</span></code>. Name of the string field that maps to to kml tag
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#maxheight">&lt;gridOrigin&gt;</a>
of a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#imagepyramid">&lt;ImagePyramid&gt;</a>.</p>
</li>
<li><p id="config-OGR_STYLE"><strong>OGR_STYLE=value: </strong>string field that maps to a features style string, OGR reads this
field if there is no style string set on the feature.</p>
</li>
</ul>
</section>
<section id="geometry">
<h2>Geometry<a class="headerlink" href="#geometry" title="Link to this heading"></a></h2>
<p>Translation of <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code> to
KML Geometry is pretty straightforward with only a couple of exceptions.
Point to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#point">&lt;Point&gt;</a>
(unless heading and/or tilt and/or roll field names are found, in which
case a
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#camera">Camera</a>
object will be generated), LineString to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linestring">&lt;LineString&gt;</a>,
LinearRing to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#linearring">&lt;LinearRing&gt;</a>,
and Polygon to
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#polygon">&lt;Polygon&gt;</a>.
In OGR a polygon contains an array of LinearRings, the first one being
the outer ring. KML has the tags
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#outerboundaryis">&lt;outerBoundaryIs&gt;</a> and
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#innerboundaryis">&lt;innerBoundaryIs&gt;</a> to
differentiate between the two. OGR has several Multi types of geometry :
GeometryCollection, MultiPolygon, MultiPoint, and MultiLineString. When
possible, OGR will try to map
<a class="reference external" href="https://developers.google.com/kml/documentation/kmlreference#multigeometry">&lt;MultiGeometry&gt;</a>
to the more precise OGR geometry type (MultiPoint, MultiLineString or
MultiPolygon), and default to GeometryCollection in case of mixed
content.</p>
<p>The following configuration options control geometry translation:</p>
<ul class="simple">
<li><p id="config-LIBKML_WRAPDATELINE"><strong>LIBKML_WRAPDATELINE=[YES/NO]: </strong>Sometimes kml geometry will span the dateline, In applications like QGIS
or MapServer this will create horizontal lines all the way around the
globe. Setting this
to &quot;yes&quot; will cause the libkml driver to split the geometry at the dateline when
read.</p>
</li>
</ul>
</section>
<section id="vsi-virtual-file-system-api-support">
<h2>VSI Virtual File System API support<a class="headerlink" href="#vsi-virtual-file-system-api-support" title="Link to this heading"></a></h2>
<p>The driver supports reading and writing to files managed by VSI Virtual
File System API, which include &quot;regular&quot; files, as well as files in the
/vsizip/ (read-write) , /vsigzip/ (read-write) , /vsicurl/ (read-only)
domains.</p>
<p>Writing to /dev/stdout or /vsistdout/ is also supported.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>The following bash script will build a
<a class="reference internal" href="csv.html#vector-csv"><span class="std std-ref">csv</span></a> file and a
<a class="reference internal" href="vrt.html#vector-vrt"><span class="std std-ref">vrt</span></a> file, and then translate them
to KML using <a class="reference internal" href="../../programs/ogr2ogr.html#ogr2ogr"><span class="std std-ref">ogr2ogr</span></a> into a .kml
file with timestamps and styling.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
# Copyright (c) 2010, Brian Case
#
# Permission is hereby granted, free of charge, to any person obtaining a
# copy of this software and associated documentation files (the &quot;Software&quot;),
# to deal in the Software without restriction, including without limitation
# the rights to use, copy, modify, merge, publish, distribute, sublicense,
# and/or sell copies of the Software, and to permit persons to whom the
# Software is furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included
# in all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS
# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
# DEALINGS IN THE SOFTWARE.


icon=&quot;http://maps.google.com/mapfiles/kml/shapes/shaded_dot.png&quot;
rgba33=&quot;#FF9900&quot;
rgba70=&quot;#FFFF00&quot;
rgba150=&quot;#00FF00&quot;
rgba300=&quot;#0000FF&quot;
rgba500=&quot;#9900FF&quot;
rgba800=&quot;#FF0000&quot;

function docsv {

    IFS=&#39;,&#39;

    while read Date Time Lat Lon Mag Dep
    do
        ts=$(echo $Date | sed &#39;s:/:-:g&#39;)T${Time%%.*}Z
        rgba=&quot;&quot;

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 33 ]]
        then
            rgba=$rgba33
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 70 ]]
        then
            rgba=$rgba70
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 150 ]]
        then
            rgba=$rgba150
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 300 ]]
        then
            rgba=$rgba300
        fi

        if [[ $rgba == &quot;&quot; ]] &amp;&amp; [[ $Dep -lt 500 ]]
        then
            rgba=$rgba500
        fi

        if [[ $rgba == &quot;&quot; ]]
        then
            rgba=$rgba800
        fi



        style=&quot;\&quot;SYMBOL(s:$Mag,id:\&quot;\&quot;$icon\&quot;\&quot;,c:$rgba)\&quot;&quot;

        echo $Date,$Time,$Lat,$Lon,$Mag,$Dep,$ts,&quot;$style&quot;
    done

}


wget http://neic.usgs.gov/neis/gis/qed.asc -O /dev/stdout |\
 tail -n +2 &gt; qed.asc

echo Date,TimeUTC,Latitude,Longitude,Magnitude,Depth,timestamp,OGR_STYLE &gt; qed.csv

docsv &lt; qed.asc &gt;&gt; qed.csv

cat &gt; qed.vrt &lt;&lt; EOF
&lt;OGRVRTDataSource&gt;
    &lt;OGRVRTLayer name=&quot;qed&quot;&gt;
        &lt;SrcDataSource&gt;qed.csv&lt;/SrcDataSource&gt;
        &lt;GeometryType&gt;wkbPoint&lt;/GeometryType&gt;
        &lt;LayerSRS&gt;WGS84&lt;/LayerSRS&gt;
        &lt;GeometryField encoding=&quot;PointFromColumns&quot; x=&quot;Longitude&quot; y=&quot;Latitude&quot;/&gt;
    &lt;/OGRVRTLayer&gt;
&lt;/OGRVRTDataSource&gt;

EOF

ogr2ogr -f libkml qed.kml qed.vrt
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lvbag.html" class="btn btn-neutral float-right" title="Dutch Kadaster LV BAG 2.0 Extract" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kml.html" class="btn btn-neutral float-left" title="KML - Keyhole Markup Language" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>