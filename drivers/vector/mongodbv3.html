<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MongoDBv3 &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/drivers/vector/mongodbv3.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../../about.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="MSSQLSpatial - Microsoft SQL Server Spatial Database" href="mssqlspatial.html" />
    <link rel="prev" title="MapInfo TAB and MIF/MID" href="mitab.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">ダウンロード</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">プログラム</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">ラスタードライバー</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ベクタードライバー</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrow.html">(Geo)Arrow IPC File Format / Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD -- AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG -- GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtfs.html">GTFS - General Transit Feed Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="hana.html">SAP HANA</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">&quot;INTERLIS 1&quot; and &quot;INTERLIS 2&quot; drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="jsonfg.html">JSONFG -- OGC Features and Geometries JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="libkml.html">LIBKML Driver (.kml .kmz)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lvbag.html">Dutch Kadaster LV BAG 2.0 Extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="miramon.html">MiraMon Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MongoDBv3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mongodb-vs-ogr-concepts">MongoDB vs OGR concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dataset-name-syntax">Dataset name syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filtering">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#paging">Paging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#schema">Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feature-id">Feature ID</a></li>
<li class="toctree-l3"><a class="reference internal" href="#executesql-interface">ExecuteSQL() interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-support">Write support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#layer-creation-options">Layer creation options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-instructions">Build instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW -- NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase vector (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="parquet.html">(Geo)Parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF -- Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmtiles.html">PMTiles -- ProtoMaps Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiledb.html">TileDB -- TileDB vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vrt.html">VRT -- Virtual Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="xodr.html">XODR -- OpenDRIVE Road Description Format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">ユーザー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">チュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">開発</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">コミュニティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/index.html">スポンサー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">どのように貢献できますか?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">ライセンス</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="index.html">ベクタードライバー</a> &raquo;</li>
      
      <li>MongoDBv3</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/drivers/vector/mongodbv3.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="mssqlspatial.html" class="btn btn-neutral float-right" title="MSSQLSpatial - Microsoft SQL Server Spatial Database" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mitab.html" class="btn btn-neutral float-left" title="MapInfo TAB and MIF/MID" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mongodbv3">
<span id="vector-mongodbv3"></span><h1>MongoDBv3<a class="headerlink" href="#mongodbv3" title="Link to this heading"></a></h1>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.0.</span></p>
</div>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>MongoDBv3</p>
</div>
<div class="admonition build_dependencies" id="build_dependencies-0">
<p class="admonition-title">Build dependencies</p>
<p>Mongo CXX &gt;= 3.4.0 client library</p>
</div>
<p>This driver can connect to the a MongoDB service.</p>
<p>The driver supports read, creation, update and delete operations of
documents/features and collections/layers. The MongoDB database must
exist before operating on it with OGR.</p>
<p>This driver requires the MongoDB C++ v3.4.0 client library.</p>
<section id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Link to this heading"></a></h2>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</section>
<section id="mongodb-vs-ogr-concepts">
<h2>MongoDB vs OGR concepts<a class="headerlink" href="#mongodb-vs-ogr-concepts" title="Link to this heading"></a></h2>
<p>A MongoDB collection within a database is considered as a OGR layer. A
MongoDB document is considered as a OGR feature.</p>
</section>
<section id="dataset-name-syntax">
<h2>Dataset name syntax<a class="headerlink" href="#dataset-name-syntax" title="Link to this heading"></a></h2>
<p>There are two main possible syntaxes:</p>
<ul class="simple">
<li><p>One using <a class="reference external" href="https://docs.mongodb.com/manual/reference/connection-string/index.html">MongoDB
URI</a>
prefixed with <em>MONGODBV3:</em>, such as
MONGODBV3:mongodb://[usr:pwd&#64;]host1[:port1]...[,hostN[:portN]]][/[db][?options]]</p></li>
<li><p>One using just MongoDBv3: as the name and open options to specify
host, port, user, password, database, etc...</p></li>
</ul>
<p>Note: the MONGODBV3: prefix before a URI starting with <em>mongodb://</em> is
required to make it recognize by this driver, instead of the legacy
driver. If the URI is starting with
<em>mongodb+srv://</em>, then it is not needed.</p>
<p>Open options can be specified in command-line tools using the syntax <code class="docutils literal notranslate"><span class="pre">-oo</span> <span class="pre">&lt;NAME&gt;=&lt;VALUE&gt;</span></code> or by providing the appropriate arguments to <a class="reference internal" href="../../api/raster_c_api.html#_CPPv410GDALOpenExPKcjPPCKcPPCKcPPCKc" title="GDALOpenEx"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALOpenEx()</span></code></a> (C) or <a class="reference internal" href="../../api/python/raster_api.html#osgeo.gdal.OpenEx" title="osgeo.gdal.OpenEx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gdal.OpenEx</span></code></a> (Python).
The open options available are:</p>
<ul class="simple">
<li><p id="drivers/vector/mongodbv3-oo-URI"><strong>URI=value: </strong><a class="reference external" href="https://docs.mongodb.com/manual/reference/connection-string/index.html">Connection URI</a></p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-HOST"><strong>HOST=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">localhost</span></code>. Server hostname.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-PORT"><strong>PORT=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">27017</span></code>. Server port.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-DBNAME"><strong>DBNAME=value: </strong>Database name. Should be specified when
connecting to hosts with user authentication enabled.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-USER"><strong>USER=value: </strong>User name.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-PASSWORD"><strong>PASSWORD=value: </strong>User password.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-SSL_PEM_KEY_FILE"><strong>SSL_PEM_KEY_FILE=&lt;filename&gt;: </strong>SSL PEM certificate/key filename.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-SSL_PEM_KEY_PASSWORD"><strong>SSL_PEM_KEY_PASSWORD=value: </strong>SSL PEM key password.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-SSL_CA_FILE"><strong>SSL_CA_FILE=&lt;filename&gt;: </strong>SSL Certification Authority filename.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-SSL_CRL_FILE"><strong>SSL_CRL_FILE=&lt;filename&gt;: </strong>SSL Certification Revocation List filename.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-SSL_ALLOW_INVALID_CERTIFICATES"><strong>SSL_ALLOW_INVALID_CERTIFICATES=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">NO</span></code>. Whether to allow
connections to servers with invalid certificates.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-BATCH_SIZE"><strong>BATCH_SIZE=value: </strong>Number of features to retrieve per batch.
For most queries, the first batch returns 101 documents or just
enough documents to exceed 1 megabyte. Subsequent batch size is 4
megabytes.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-FEATURE_COUNT_TO_ESTABLISH_FEATURE_DEFN"><strong>FEATURE_COUNT_TO_ESTABLISH_FEATURE_DEFN=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">100</span></code>. Number of
features to retrieve to establish feature definition. -1 = unlimited.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-JSON_FIELD"><strong>JSON_FIELD=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">NO</span></code>. Whether to include a field called &quot;_json&quot;
with the full document as JSON.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-FLATTEN_NESTED_ATTRIBUTE"><strong>FLATTEN_NESTED_ATTRIBUTE=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. Whether to recursively explore
nested objects and produce flatten OGR attributes.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-FID"><strong>FID=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">ogc_fid</span></code>. Field name, with integer values, to use as FID.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-USE_OGR_METADATA"><strong>USE_OGR_METADATA=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. Whether to use the _ogr_metadata
collection to read layer metadata.</p>
</li>
<li><p id="drivers/vector/mongodbv3-oo-BULK_INSERT"><strong>BULK_INSERT=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. <p>Whether to use bulk insert for feature creation.</p>
</p>
</li>
</ul>
</section>
<section id="filtering">
<h2>Filtering<a class="headerlink" href="#filtering" title="Link to this heading"></a></h2>
<p>The driver will forward any spatial filter set with SetSpatialFilter()
to the server when a &quot;2d&quot; or &quot;2dsphere&quot; spatial index is available on
the geometry field.</p>
<p>However, in the current state, SQL attribute filters set with
SetAttributeFilter() are evaluated only on client-side. To enable
server-side filtering, the string passed to SetAttributeFilter() must be
a JSON object in the <a class="reference external" href="https://docs.mongodb.com/manual/reference/method/db.collection.find/index.html">MongoDB filter
syntax</a>.</p>
</section>
<section id="paging">
<h2>Paging<a class="headerlink" href="#paging" title="Link to this heading"></a></h2>
<p>Features are retrieved from the server by chunks of 101 documents or
just enough documents to exceed 1 megabyte. Subsequent batch size is 4
megabytes. This can be altered with the BATCH_SIZE open option.</p>
</section>
<section id="schema">
<h2>Schema<a class="headerlink" href="#schema" title="Link to this heading"></a></h2>
<p>When reading a MongoDB collection, OGR must establish the schema of
attribute and geometry fields, since, contrary to MongoDB collections
which are schema-less, OGR has a fixed schema concept.</p>
<p>In the general case, OGR will read the first 100 documents (can be
altered with the FEATURE_COUNT_TO_ESTABLISH_FEATURE_DEFN open option) of
the collection and build the schema that best fit to the found fields
and values.</p>
<p>If the collection/layer has been previously created with OGR, a
_ogr_metadata special collection contains the OGR schema, in which case
it will be directly used. It might be possible to ignore the schema
written in _ogr_metadata by setting the USE_OGR_METADATA=NO open
option.</p>
<p>It is also possible to set the JSON_FIELD=YES open option so that a
_json special field is added to the OGR schema. When reading MongoDB
documents as OGR features, the full JSON version of the document will be
stored in the _json field. This might be useful in case of complex
documents or with data types that do not translate well in OGR data
types. On creation/update of documents, if the _json field is present
and set, its content will be used directly (other fields will be
ignored).</p>
</section>
<section id="feature-id">
<h2>Feature ID<a class="headerlink" href="#feature-id" title="Link to this heading"></a></h2>
<p>MongoDB have a special _id field that contains the unique ID of the
document. This field is returned as an OGR field, but cannot be used as
the OGR special FeatureID field, which must be of integer type. By
default, OGR will try to read a potential 'ogc_fid' field to set the OGR
FeatureID. The name of this field to look up can be set with the FID
open option. If the field is not found, the FID returned by OGR will be
a sequential number starting at 1, but it is not guaranteed to be stable
at all.</p>
</section>
<section id="executesql-interface">
<h2>ExecuteSQL() interface<a class="headerlink" href="#executesql-interface" title="Link to this heading"></a></h2>
<p>If specifying &quot;MongoDB&quot; as the dialect of ExecuteSQL(), a JSON string
with a serialized <a class="reference external" href="https://docs.mongodb.com/manual/reference/command/index.html">MongoDB
command</a>
can be passed. The result will be returned as a JSON string in a single
OGR feature.</p>
<p>Standard SQL requests will be executed on client-side.</p>
</section>
<section id="write-support">
<h2>Write support<a class="headerlink" href="#write-support" title="Link to this heading"></a></h2>
<p>Layer/collection creation and deletion is possible.</p>
<p>Write support is only enabled when the datasource is opened in update
mode.</p>
<p>When inserting a new feature with CreateFeature(), and if the command is
successful, OGR will fetch the returned _id and use it for the
SetFeature() operation.</p>
</section>
<section id="layer-creation-options">
<h2>Layer creation options<a class="headerlink" href="#layer-creation-options" title="Link to this heading"></a></h2>
<p>Layer creation options can be specified in command-line tools using the syntax <code class="docutils literal notranslate"><span class="pre">-lco</span> <span class="pre">&lt;NAME&gt;=&lt;VALUE&gt;</span></code> or by providing the appropriate arguments to <a class="reference internal" href="../../api/raster_c_api.html#_CPPv422GDALDatasetCreateLayer12GDALDatasetHPKc20OGRSpatialReferenceH18OGRwkbGeometryType12CSLConstList" title="GDALDatasetCreateLayer"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDatasetCreateLayer()</span></code></a> (C) or <a class="reference internal" href="../../api/python/raster_api.html#osgeo.gdal.Dataset.CreateLayer" title="osgeo.gdal.Dataset.CreateLayer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Dataset.CreateLayer</span></code></a> (Python).
The following layer creation options are supported:</p>
<ul class="simple">
<li><p id="drivers/vector/mongodbv3-lco-OVERWRITE"><strong>OVERWRITE=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">NO</span></code>. Whether to overwrite an existing collection
with the layer name to be created.</p>
</li>
<li><p id="drivers/vector/mongodbv3-lco-GEOMETRY_NAME"><strong>GEOMETRY_NAME=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">geometry</span></code>. Name of geometry column.</p>
</li>
<li><p id="drivers/vector/mongodbv3-lco-SPATIAL_INDEX"><strong>SPATIAL_INDEX=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. Whether to create a spatial index (2dsphere).</p>
</li>
<li><p id="drivers/vector/mongodbv3-lco-FID"><strong>FID=value: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">ogc_fid</span></code>. Field name, with integer values, to use as FID.</p>
</li>
<li><p id="drivers/vector/mongodbv3-lco-WRITE_OGR_METADATA"><strong>WRITE_OGR_METADATA=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. Whether to create a description of
layer fields in the _ogr_metadata collection.</p>
</li>
<li><p id="drivers/vector/mongodbv3-lco-DOT_AS_NESTED_FIELD"><strong>DOT_AS_NESTED_FIELD=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">YES</span></code>. Whether to consider dot character
in field name as sub-document.</p>
</li>
<li><p id="drivers/vector/mongodbv3-lco-IGNORE_SOURCE_ID"><strong>IGNORE_SOURCE_ID=[YES/NO]: </strong> Defaults to <code class="docutils literal notranslate"><span class="pre">NO</span></code>. Whether to ignore _id field in
features passed to CreateFeature().</p>
</li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>Listing the tables of a MongoDB database:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogrinfo</span> <span class="o">-</span><span class="n">ro</span> <span class="n">mongodb</span><span class="o">+</span><span class="n">srv</span><span class="p">:</span><span class="o">//</span><span class="n">user</span><span class="p">:</span><span class="n">password</span><span class="nd">@cluster0</span><span class="o">-</span><span class="n">ox9uy</span><span class="o">.</span><span class="n">mongodb</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">test</span>
</pre></div>
</div>
<p>Filtering on a MongoDB field:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogrinfo</span> <span class="o">-</span><span class="n">ro</span> <span class="n">mongodb</span><span class="o">+</span><span class="n">srv</span><span class="p">:</span><span class="o">//</span><span class="n">user</span><span class="p">:</span><span class="n">password</span><span class="nd">@cluster0</span><span class="o">-</span><span class="n">ox9uy</span><span class="o">.</span><span class="n">mongodb</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">test</span> <span class="o">-</span><span class="n">where</span> <span class="s1">&#39;{ &quot;field&quot;: 5 }&#39;</span>
</pre></div>
</div>
<p>Creating and populating a collection from a shapefile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogr2ogr</span> <span class="o">-</span><span class="n">update</span> <span class="n">mongodb</span><span class="o">+</span><span class="n">srv</span><span class="p">:</span><span class="o">//</span><span class="n">user</span><span class="p">:</span><span class="n">password</span><span class="nd">@cluster0</span><span class="o">-</span><span class="n">ox9uy</span><span class="o">.</span><span class="n">mongodb</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">test</span> <span class="n">shapefile</span><span class="o">.</span><span class="n">shp</span>
</pre></div>
</div>
</section>
<section id="build-instructions">
<h2>Build instructions<a class="headerlink" href="#build-instructions" title="Link to this heading"></a></h2>
<p>GDAL/OGR must be built against the <a class="reference external" href="https://github.com/mongodb/mongo-cxx-driver">MongoDB C++ driver client
library</a>, v3.4.0, in
order to the MongoDBv3 driver to be compiled.</p>
<p>You must first follow <a class="reference external" href="http://mongocxx.org/mongocxx-v3/installation/">MongoDB C++ driver client build
instructions</a>.</p>
<p>Then:</p>
<ul>
<li><p>On Linux/Unix, run ./configure --with-mongocxxv3 (potentially by
overriding PKG_CONFIG_PATH to point to the
{INSTALLATION_PREFIX_OF_MONGOCXX}/lib/pkgconfig</p></li>
<li><p>On Windows, uncomment and adapt the following in nmake.opt (or add in
nmake.local):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Uncomment for MongoDBv3 support</span>
<span class="c1"># Uncomment following line if plugin is preferred</span>
<span class="c1">#MONGODBV3_PLUGIN = YES</span>
<span class="n">BOOST_INC</span><span class="o">=</span><span class="n">E</span><span class="p">:</span><span class="o">/</span><span class="n">boost_1_69_0</span>
<span class="n">MONGOCXXV3_CFLAGS</span> <span class="o">=</span> <span class="o">-</span><span class="n">IE</span><span class="p">:</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">install</span><span class="o">-</span><span class="n">mongocxx</span><span class="o">-</span><span class="mf">3.4.0</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">mongocxx</span><span class="o">/</span><span class="n">v_noabi</span> <span class="o">-</span><span class="n">IE</span><span class="p">:</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">install</span><span class="o">-</span><span class="n">mongocxx</span><span class="o">-</span><span class="mf">3.4.0</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">bsoncxx</span><span class="o">/</span><span class="n">v_noabi</span>
<span class="n">MONGOCXXV3_LIBS</span> <span class="o">=</span> <span class="n">E</span><span class="p">:</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">install</span><span class="o">-</span><span class="n">mongocxx</span><span class="o">-</span><span class="mf">3.4.0</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mongocxx</span><span class="o">.</span><span class="n">lib</span> <span class="n">E</span><span class="p">:</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">install</span><span class="o">-</span><span class="n">mongocxx</span><span class="o">-</span><span class="mf">3.4.0</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">bsoncxx</span><span class="o">.</span><span class="n">lib</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/mongodb/mongo-cxx-driver">MongoDB C++ Driver</a></p></li>
<li><p><a class="reference external" href="https://docs.mongodb.com/manual/">MongoDB Manual</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mssqlspatial.html" class="btn btn-neutral float-right" title="MSSQLSpatial - Microsoft SQL Server Spatial Database" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mitab.html" class="btn btn-neutral float-left" title="MapInfo TAB and MIF/MID" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>