<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VRT -- Virtual Format &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/drivers/vector/vrt.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../../about.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="検索" href="../../search.html" />
    <link rel="next" title="WAsP - WAsP .map format" href="wasp.html" />
    <link rel="prev" title="VFK - Czech Cadastral Exchange Data Format" href="vfk.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../download.html">ダウンロード</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programs/index.html">プログラム</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster/index.html">Raster drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Vector drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="amigocloud.html">AmigoCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="arrow.html">(Geo)Arrow IPC File Format / Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="avcbin.html">Arc/Info Binary Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="avce00.html">Arc/Info E00 (ASCII) Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="cad.html">CAD -- AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="carto.html">Carto</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Comma Separated Value (.csv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="csw.html">CSW - OGC CSW (Catalog Service for the Web)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgn.html">Microstation DGN</a></li>
<li class="toctree-l2"><a class="reference internal" href="dgnv8.html">Microstation DGN v8</a></li>
<li class="toctree-l2"><a class="reference internal" href="dwg.html">AutoCAD DWG</a></li>
<li class="toctree-l2"><a class="reference internal" href="dxf.html">AutoCAD DXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="eeda.html">Google Earth Engine Data API</a></li>
<li class="toctree-l2"><a class="reference internal" href="edigeo.html">EDIGEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch: Geographically Encoded Objects for Elasticsearch</a></li>
<li class="toctree-l2"><a class="reference internal" href="esrijson.html">ESRIJSON / FeatureService driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="filegdb.html">ESRI File Geodatabase (FileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="flatgeobuf.html">FlatGeobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="geoconcept.html">GeoConcept text export</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojson.html">GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="geojsonseq.html">GeoJSONSeq: sequence of GeoJSON features</a></li>
<li class="toctree-l2"><a class="reference internal" href="georss.html">GeoRSS : Geographically Encoded Objects for RSS feeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="gml.html">GML - Geography Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmlas.html">GMLAS - Geography Markup Language (GML) driven by application schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="gmt.html">GMT ASCII Vectors (.gmt)</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpkg.html">GPKG -- GeoPackage vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpsbabel.html">GPSBabel</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpx.html">GPX - GPS Exchange Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="grass.html">GRASS Vector Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="gtfs.html">GTFS - General Transit Feed Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="hana.html">SAP HANA</a></li>
<li class="toctree-l2"><a class="reference internal" href="idb.html">IDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="idrisi.html">Idrisi Vector (.VCT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ili.html">&quot;INTERLIS 1&quot; and &quot;INTERLIS 2&quot; drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="jml.html">JML: OpenJUMP JML format</a></li>
<li class="toctree-l2"><a class="reference internal" href="jsonfg.html">JSONFG -- OGC Features and Geometries JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="kml.html">KML - Keyhole Markup Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="libkml.html">LIBKML Driver (.kml .kmz)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lvbag.html">Dutch Kadaster LV BAG 2.0 Extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapml.html">MapML</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="miramon.html">MiraMon Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mitab.html">MapInfo TAB and MIF/MID</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodbv3.html">MongoDBv3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mssqlspatial.html">MSSQLSpatial - Microsoft SQL Server Spatial Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="mvt.html">MVT: Mapbox Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="nas.html">NAS - ALKIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="netcdf.html">NetCDF: Network Common Data Form - Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="ngw.html">NGW -- NextGIS Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntf.html">UK .NTF</a></li>
<li class="toctree-l2"><a class="reference internal" href="oapif.html">OGC API - Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="oci.html">Oracle Spatial</a></li>
<li class="toctree-l2"><a class="reference internal" href="odbc.html">ODBC RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="ods.html">ODS - Open Document Spreadsheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogdi.html">OGDI Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="openfilegdb.html">ESRI File Geodatabase vector (OpenFileGDB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="osm.html">OSM - OpenStreetMap XML and PBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="parquet.html">(Geo)Parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">PDF -- Geospatial PDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="pds.html">PDS - Planetary Data Systems TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgdump.html">PostgreSQL SQL Dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgeo.html">ESRI Personal GeoDatabase</a></li>
<li class="toctree-l2"><a class="reference internal" href="pg.html">PostgreSQL / PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="plscenes.html">PLScenes (Planet Labs Scenes/Catalog API)</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmtiles.html">PMTiles -- ProtoMaps Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="s57.html">IHO S-57 (ENC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdts.html">SDTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="selafin.html">Selafin files</a></li>
<li class="toctree-l2"><a class="reference internal" href="shapefile.html">ESRI Shapefile / DBF</a></li>
<li class="toctree-l2"><a class="reference internal" href="sosi.html">Norwegian SOSI Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlite.html">SQLite / Spatialite RDBMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="svg.html">SVG - Scalable Vector Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxf.html">Storage and eXchange Format - SXF</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiger.html">U.S. Census TIGER/Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="tiledb.html">TileDB -- TileDB vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="topojson.html">TopoJSON driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="vdv.html">VDV - VDV-451/VDV-452/INTREST Data Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfk.html">VFK - Czech Cadastral Exchange Data Format</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">VRT -- Virtual Format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#driver-capabilities">Driver capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creation-issues">Creation Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#virtual-file-format">Virtual File Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#metadata-element">Metadata element</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ogrvrtlayer-element">OGRVRTLayer element</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ogrvrtwarpedlayer-element">OGRVRTWarpedLayer element</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ogrvrtunionlayer-element">OGRVRTUnionLayer element</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#example-odbc-point-layer">Example: ODBC Point Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-renaming-attributes">Example: Renaming attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-transparent-spatial-filtering">Example: Transparent spatial filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-reprojected-layer">Example: Reprojected layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-union-layer">Example: Union layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-sqlite-spatialite-sql-dialect">Example: SQLite/Spatialite SQL dialect</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-multiple-geometry-fields">Example: Multiple geometry fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-notes">Other Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wasp.html">WAsP - WAsP .map format</a></li>
<li class="toctree-l2"><a class="reference internal" href="wfs.html">WFS - OGC WFS service</a></li>
<li class="toctree-l2"><a class="reference internal" href="xls.html">XLS - MS Excel format</a></li>
<li class="toctree-l2"><a class="reference internal" href="xlsx.html">XLSX - MS Office Open XML spreadsheet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">ユーザー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">チュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sponsors/index.html">Sponsors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">How to contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="index.html">Vector drivers</a> &raquo;</li>
      
      <li>VRT -- Virtual Format</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/drivers/vector/vrt.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="wasp.html" class="btn btn-neutral float-right" title="WAsP - WAsP .map format" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vfk.html" class="btn btn-neutral float-left" title="VFK - Czech Cadastral Exchange Data Format" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="vrt-virtual-format">
<span id="vector-vrt"></span><h1>VRT -- Virtual Format<a class="headerlink" href="#vrt-virtual-format" title="Link to this heading"></a></h1>
<div class="admonition shortname" id="shortname-0">
<p class="admonition-title">Driver short name</p>
<p>VRT</p>
</div>
<div class="admonition built_in_by_default" id="built_in_by_default-0">
<p class="admonition-title">Driver built-in by default</p>
<p>This driver is built-in by default</p>
</div>
<p>OGR Virtual Format is a driver that transforms features read from other
drivers based on criteria specified in an XML control file. It is
primarily used to derive spatial layers from flat tables with spatial
information in attribute columns. It can also be used to associate
coordinate system information with a datasource, merge layers from
different datasources into a single data source, or even just to provide
an anchor file for access to non-file oriented datasources.</p>
<p>The virtual files are currently normally prepared by hand.</p>
<section id="driver-capabilities">
<h2>Driver capabilities<a class="headerlink" href="#driver-capabilities" title="Link to this heading"></a></h2>
<div class="admonition supports_georeferencing" id="supports_georeferencing-0">
<p class="admonition-title">Supports Georeferencing</p>
<p>This driver supports georeferencing</p>
</div>
<div class="admonition supports_virtualio" id="supports_virtualio-0">
<p class="admonition-title">Supports VirtualIO</p>
<p>This driver supports <a class="reference internal" href="../../user/virtual_file_systems.html#virtual-file-systems"><span class="std std-ref">virtual I/O operations (/vsimem/, etc.)</span></a></p>
</div>
</section>
<section id="creation-issues">
<h2>Creation Issues<a class="headerlink" href="#creation-issues" title="Link to this heading"></a></h2>
<p>The CreateFeature(), SetFeature() and DeleteFeature()
operations are supported on a layer of a VRT dataset, if the following
conditions are met :</p>
<ul class="simple">
<li><p>the VRT dataset is opened in update mode</p></li>
<li><p>the underlying source layer supports those operations</p></li>
<li><p>the <em>SrcLayer</em> element is used (as opposed to the <em>SrcSQL</em> element)</p></li>
<li><p>the FID of the VRT features is the same as the FID of the source
features, that is to say, the <em>FID</em> element is not specified</p></li>
</ul>
</section>
<section id="virtual-file-format">
<h2>Virtual File Format<a class="headerlink" href="#virtual-file-format" title="Link to this heading"></a></h2>
<p>The root element of the XML control file is <strong>OGRVRTDataSource</strong>. It has
an <strong>OGRVRTLayer</strong> (or <strong>OGRVRTWarpedLayer</strong> or <strong>OGRVRTUnionLayer</strong>) child for
each layer in the virtual
datasource, and a <strong>Metadata</strong> element.</p>
<p>An XML schema of the OGR VRT format is provided in <a href="#id1"><span class="problematic" id="id2">:source_file:`ogr/ogrsf_frmts/vrt/data/ogrvrt.xsd`</span></a>.
When GDAL is configured with libXML2
support, that schema will be used to validate the VRT documents.
Non-conformities will be reported only as warnings. That validation can
be disabled by setting the <a class="reference internal" href="../../user/configoptions.html#config-GDAL_XML_VALIDATION"><code class="docutils literal notranslate"><span class="pre">GDAL_XML_VALIDATION</span></code></a>
configuration option to &quot;NO&quot;.</p>
<section id="metadata-element">
<h3>Metadata element<a class="headerlink" href="#metadata-element" title="Link to this heading"></a></h3>
<p><strong>Metadata</strong> (optional): This element contains a list of
metadata name/value pairs associated with the dataset as a whole. It has
&lt;MDI&gt; (metadata item) subelements which have a &quot;key&quot; attribute and the
value as the data of the element. The Metadata element can be repeated
multiple times, in which case it must be accompanied with a &quot;domain&quot;
attribute to indicate the name of the metadata domain.</p>
</section>
<section id="ogrvrtlayer-element">
<h3>OGRVRTLayer element<a class="headerlink" href="#ogrvrtlayer-element" title="Link to this heading"></a></h3>
<p>A <strong>OGRVRTLayer</strong> element should have a <strong>name</strong> attribute with the
layer name, and may have the following subelements:</p>
<ul>
<li><p><strong>SrcDataSource</strong> (mandatory): The value is the name of the datasource
that this layer will be derived from. The element may optionally have a
<strong>relativeToVRT</strong> attribute which defaults to &quot;0&quot;, but if &quot;1&quot; indicates
that the source datasource should be interpreted as relative to the
virtual file. This can be any OGR supported dataset, including ODBC,
CSV, etc. The element may also have a <strong>shared</strong> attribute to control
whether the datasource should be opened in shared mode. Defaults to OFF
for SrcLayer use and ON for SrcSQL use.</p></li>
<li><p><strong>OpenOptions</strong> (optional): This element may list a number
of open options as child elements of the form &lt;OOI
key=&quot;key_name&quot;&gt;value_name&lt;/OOI&gt;</p></li>
<li><p><strong>Metadata</strong> (optional): This element contains a list of
metadata name/value pairs associated with the layer as a whole. It has
&lt;MDI&gt; (metadata item) subelements which have a &quot;key&quot; attribute and the
value as the data of the element. The Metadata element can be repeated
multiple times, in which case it must be accompanied with a &quot;domain&quot;
attribute to indicate the name of the metadata domain.</p></li>
<li><p><strong>SrcLayer</strong> (optional): The value is the name of the layer on the
source data source from which this virtual layer should be derived. If
this element isn't provided, then the SrcSQL element must be provided.</p></li>
<li><p><strong>SrcSQL</strong> (optional): An SQL statement to execute to generate the
desired layer result. This should be provided instead of the SrcLayer
for statement derived results. Some limitations may apply for SQL
derived layers. An optional <strong>dialect</strong>
attribute can be specified on the SrcSQL element to specify which SQL
&quot;dialect&quot; should be used : possible values are currently
<a class="reference internal" href="../../user/ogr_sql_dialect.html#ogr-sql-dialect"><span class="std std-ref">OGRSQL</span></a> or <a class="reference internal" href="../../user/sql_sqlite_dialect.html#sql-sqlite-dialect"><span class="std std-ref">SQLITE</span></a>. If <em>dialect</em> is not specified, the default
dialect of the datasource will be used.</p></li>
<li><p><strong>FID</strong> (optional): Name of the source attribute column from which the
FID of features should be derived. If not provided, the FID of the
source features will be used directly.</p>
<p>Logic for GDAL &gt;= 2.4: Different situations are possible:</p>
<ul>
<li><div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;FID&gt;</span>source_field_name<span class="nt">&lt;/FID&gt;</span>
</pre></div>
</div>
<p>A FID column will be reported as source_field_name with the
content of source field source_field_name.</p>
</li>
<li><div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;FID</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;dest_field_name&quot;</span><span class="nt">&gt;</span>source_field_name<span class="nt">&lt;/FID&gt;</span>
</pre></div>
</div>
<p>A FID column will be reported as dest_field_name with the content
of source field source_field_name. dest_field_name can potentially
be set to the empty string.</p>
</li>
<li><div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;FID</span><span class="w"> </span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>No FID column is reported. The FID value of VRT features is the
FID value of the source features.</p>
</li>
<li><div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;FID</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;dest_field_name&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>A FID column will be reported as dest_field_name with the content
of the implicit source FID column. The FID value of VRT features
is the FID value of the source features.</p>
</li>
</ul>
<p>Logic for GDAL &lt; 2.4: The layer will report the FID column name only
if it is also reported as a regular field.
A &quot;name&quot; attribute can be specified on the FID element so that the FID
column name is always reported.</p>
</li>
<li><p><strong>Style</strong> (optional): Name of the attribute column from which the style
of features should be derived. If not provided, the style of the source
features will be used directly.</p></li>
<li><p><strong>GeometryType</strong> (optional): The geometry type to be assigned to the
layer. If not provided it will be taken from the source layer. The value
should be one of &quot;wkbNone&quot;, &quot;wkbUnknown&quot;, &quot;wkbPoint&quot;, &quot;wkbLineString&quot;,
&quot;wkbPolygon&quot;, &quot;wkbMultiPoint&quot;, &quot;wkbMultiLineString&quot;, &quot;wkbMultiPolygon&quot;,
or &quot;wkbGeometryCollection&quot;. Optionally &quot;25D&quot; may be appended to mark it
as including Z coordinates. Defaults to &quot;wkbUnknown&quot; indicating that any
geometry type is allowed.</p></li>
<li><p><strong>LayerSRS</strong> (optional): The value of this element is the spatial
reference to use for the layer. If not provided, it is inherited from
the source layer. The value may be WKT or any other input that is
accepted by the OGRSpatialReference::SetUserInput() method. If the value
is NULL, then no SRS will be used for the layer.</p></li>
<li><p><strong>GeometryField</strong> (optional): This element is used to define how the
geometry for features should be derived.</p>
<p>The GeometryField element can be repeated as many times as necessary to create
multiple geometry fields.
If no <strong>GeometryField</strong> element is specified, all the geometry fields of
the source layer will be exposed by the VRT layer. In order not to
expose any geometry field of the source layer, you need to specify
OGRVRTLayer-level <strong>GeometryType</strong> element to wkbNone.</p>
<p>The following attributes can be defined:</p>
<ul>
<li><p><strong>name</strong> = string (recommended, and mandatory if the VRT will expose multiple geometry fields)</p>
<p>Name that will be used to define the VRT geometry field name. If not set,
empty string is used.</p>
</li>
<li><p><strong>encoding</strong> = Direct/WKT/WKB/PointFromColumns (optional)</p>
<p>Type of geometry encoding.</p>
<p>If the encoding is &quot;Direct&quot; or not specified, then the <strong>field</strong> attribute must
be set to the name of the source geometry field, if there are multiple source
geometry fields. If neither <strong>encoding</strong> nor <strong>field</strong> are
specified, it is assumed that the name of source geometry field is the
value of the <strong>name</strong> attribute.</p>
<p>If the encoding is &quot;WKT&quot; or &quot;WKB&quot; then the <strong>field</strong> attribute must be set to
the name of the source field containing the WKT or WKB geometry.</p>
<p>If the encoding is &quot;PointFromColumns&quot; then the <strong>x</strong>, <strong>y</strong>, <strong>z</strong> and
<strong>m</strong> attributes must be set to the names of the columns to be used for the
X, Y, Z and M coordinates. The <strong>z</strong> and <strong>m</strong> attributes are optional.</p>
</li>
<li><p><strong>field</strong> = string (conditional)</p>
<p>Name of the source field (or source geometry field for <strong>encoding</strong> = Direct)
from which this GeometryField should fetch geometries. This must be set
if <strong>encoding</strong> is WKT or WKB.</p>
</li>
<li><p><strong>x</strong>, <strong>y</strong>, <strong>z</strong>, <strong>m</strong> = string (conditional)</p>
<p>Name of the source fields for the X, Y, Z and M coordinates when
<strong>encoding</strong> = PointFromColumns</p>
</li>
<li><p><strong>reportSrcColumn</strong> = true/false (optional)</p>
<p>Specify whether the source geometry fields (the fields set in the <strong>field</strong>,
<strong>x</strong>, <strong>y</strong>, <strong>z</strong>, <strong>m</strong> attributes) should also be included as fields of
the VRT layer. It defaults to true. If set to false, the source
geometry fields will only be used to build the geometry of the
features of the VRT layer.</p>
<p>Note that reportSrcColumn=true is taken into account only if no explicit
<strong>Field</strong> element is defined and when <strong>encoding</strong> is not &quot;Direct&quot;.
If at least one field is explicitly defined, and reporting of the source
geometry field is desired, an explicit <strong>Field</strong> element for it must be defined.</p>
</li>
<li><p><strong>nullable</strong> = true/false (optional)</p>
<p>The optional <strong>nullable</strong> attribute can be used
to specify whether the geometry field is nullable. It defaults to
&quot;true&quot;.</p>
</li>
</ul>
<p>The following child elements of <strong>GeometryField</strong> can be defined:</p>
<ul class="simple">
<li><p><strong>GeometryType</strong> (optional) : same syntax as OGRVRTLayer-level
<strong>GeometryType</strong>. Useful when there are multiple geometry fields.</p></li>
<li><p><strong>SRS</strong> (optional) : same syntax as OGRVRTLayer-level <strong>LayerSRS</strong>
(note SRS vs LayerSRS). Useful when there are multiple geometry fields.</p></li>
<li><p><strong>SrcRegion</strong> (optional) : same syntax as OGRVRTLayer-level
<strong>SrcRegion</strong>. Useful when there are multiple geometry fields.</p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional) : same syntax as OGRVRTLayer-level elements of same name.
Useful when there are multiple geometry fields.</p></li>
<li><p><strong>XYResolution</strong> (optional, GDAL &gt;= 3.9):
Resolution for the coordinate precision of the X and Y coordinates.
Expressed in the units of the X and Y axis of the SRS</p></li>
<li><p><strong>ZResolution</strong> (optional, GDAL &gt;= 3.9):
Resolution for the coordinate precision of the Z coordinates.
Expressed in the units of the Z axis of the SRS</p></li>
<li><p><strong>MResolution</strong> (optional, GDAL &gt;= 3.9):
Resolution for the coordinate precision of the M coordinates.</p></li>
</ul>
</li>
<li><p><strong>SrcRegion</strong> (optional) : This element is used to
define an initial spatial filter for the source features. This spatial
filter will be combined with any spatial filter explicitly set on the
VRT layer with the SetSpatialFilter() method. The value of the element
must be a valid WKT string defining a polygon. An optional <strong>clip</strong>
attribute can be set to &quot;TRUE&quot; to clip the geometries to the source
region, otherwise the source geometries are not modified.</p>
<p><strong>Field</strong> (optional): One or more attribute fields may
be defined with Field elements. If no Field elements are defined, the
fields of the source layer/sql will be defined on the VRT layer. The
Field may have the following attributes:</p>
<ul class="simple">
<li><p><strong>name</strong> (required): the name of the field.</p></li>
<li><p><strong>type</strong>: the field type, one of &quot;Integer&quot;, &quot;IntegerList&quot;, &quot;Real&quot;,
&quot;RealList&quot;, &quot;String&quot;, &quot;StringList&quot;, &quot;Binary&quot;, &quot;Date&quot;, &quot;Time&quot;, or
&quot;DateTime&quot;. Defaults to &quot;String&quot;.</p></li>
<li><p><strong>subtype</strong>: the field subtype, one of &quot;None&quot;,
&quot;Boolean&quot;, &quot;Int16&quot;, &quot;Float32&quot;. Defaults to &quot;None&quot;.</p></li>
<li><p><strong>width</strong>: the field width. Defaults to unknown.</p></li>
<li><p><strong>precision</strong>: the field width. Defaults to zero.</p></li>
<li><p><strong>src</strong>: the name of the source field to be copied to this one.
Defaults to the value of &quot;name&quot;.</p></li>
<li><p><strong>nullable</strong> can be used to specify whether the field
is nullable. It defaults to &quot;true&quot;.</p></li>
<li><p><strong>unique</strong> can be used to specify whether the field
has a unique constraint. It defaults to &quot;false&quot;. (GDAL &gt;= 3.2)</p></li>
<li><p><strong>alternativeName</strong>: the field alternative name. (GDAL &gt;= 3.7)</p></li>
<li><p><strong>comment</strong>: the field comment. (GDAL &gt;= 3.7)</p></li>
</ul>
</li>
<li><p><strong>FeatureCount</strong> (optional) : This element is used to
define the feature count of the layer (when no spatial or attribute
filter is set). This can be useful on static data, when getting the
feature count from the source layer is slow.</p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional) : Those elements are used to define the
extent of the layer. This can be useful on static data, when getting the
extent from the source layer is slow.</p></li>
</ul>
</section>
<section id="ogrvrtwarpedlayer-element">
<h3>OGRVRTWarpedLayer element<a class="headerlink" href="#ogrvrtwarpedlayer-element" title="Link to this heading"></a></h3>
<p>A <strong>OGRVRTWarpedLayer</strong> element is used to do
on-the-fly reprojection of a source layer. It may have the following
subelements:</p>
<ul class="simple">
<li><p><strong>OGRVRTLayer</strong>, <strong>OGRVRTWarpedLayer</strong> or <strong>OGRVRTUnionLayer</strong>
(mandatory): the source layer to reproject.</p></li>
<li><p><strong>SrcSRS</strong> (optional): The value of this element is the spatial
reference to use for the layer before reprojection. If not specified,
it is deduced from the source layer.</p></li>
<li><p><strong>TargetSRS</strong> (mandatory): The value of this element is the spatial
reference to use for the layer after reprojection.</p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional) : Those elements are used to define the
extent of the layer. This can be useful on static data, when getting
the extent from the source layer is slow.</p></li>
<li><p><strong>WarpedGeomFieldName</strong> (optional) : The value of
this element is the geometry field name of the source layer to wrap.
If not specified, the first geometry field will be used. If there are
several geometry fields, only the one matching WarpedGeomFieldName
will be warped; the other ones will be untouched.</p></li>
</ul>
</section>
<section id="ogrvrtunionlayer-element">
<h3>OGRVRTUnionLayer element<a class="headerlink" href="#ogrvrtunionlayer-element" title="Link to this heading"></a></h3>
<p>A <strong>OGRVRTUnionLayer</strong> element is used to concatenate
the content of source layers. It should have a <strong>name</strong> and may have the
following subelements:</p>
<ul class="simple">
<li><p><strong>OGRVRTLayer</strong>, <strong>OGRVRTWarpedLayer</strong> or <strong>OGRVRTUnionLayer</strong>
(mandatory and may be repeated): a source layer to add in the union.</p></li>
<li><p><strong>PreserveSrcFID</strong> (optional) : may be ON or OFF. If set to ON, the
FID from the source layer will be used, otherwise a counter will be
used. Defaults to OFF.</p></li>
<li><p><strong>SourceLayerFieldName</strong> (optional) : if specified, an additional
field (named with the value of SourceLayerFieldName) will be added in
the layer field definition. For each feature, the value of this field
will be set with the name of the layer from which the feature comes
from.</p></li>
<li><p><strong>GeometryType</strong> (optional) : see above for the syntax. If not
specified, the geometry type will be deduced from the geometry type
of all source layers.</p></li>
<li><p><strong>LayerSRS</strong> (optional) : see above for the syntax. If not specified,
the SRS will be the SRS of the first source layer.</p></li>
<li><p><strong>FieldStrategy</strong> (optional, exclusive with <strong>Field</strong> or
<strong>GeometryField</strong>) : may be <strong>FirstLayer</strong> to use the fields from the
first layer found, <strong>Union</strong> to use a super-set of all the fields
from all source layers, or <strong>Intersection</strong> to use a sub-set of all
the common fields from all source layers. Defaults to <strong>Union</strong>.</p></li>
<li><p><strong>Field</strong> (optional, exclusive with <strong>FieldStrategy</strong>) : see above
for the syntax. Note: the src attribute is not supported in the
context of a OGRVRTUnionLayer element (field names are assumed to be
identical).</p></li>
<li><p><strong>GeometryField</strong> (optional, exclusive with <strong>FieldStrategy</strong>):
the <strong>name</strong> attribute and the following sub-elements
<strong>GeometryType</strong>, <strong>SRS</strong> and <strong>Extent[X|Y][Min|Max]</strong> are available.</p></li>
<li><p><strong>FeatureCount</strong> (optional) : see above for the syntax</p></li>
<li><p><strong>ExtentXMin</strong>, <strong>ExtentYMin</strong>, <strong>ExtentXMax</strong> and <strong>ExtentXMax</strong>
(optional) : see above for the syntax</p></li>
</ul>
</section>
</section>
<section id="example-odbc-point-layer">
<h2>Example: ODBC Point Layer<a class="headerlink" href="#example-odbc-point-layer" title="Link to this heading"></a></h2>
<p>In the following example (disease.ovf) the worms table from the ODBC
database DISEASE is used to form a spatial layer. The virtual file uses
the &quot;x&quot; and &quot;y&quot; columns to get the spatial location. It also marks the
layer as a point layer, and as being in the WGS84 coordinate system.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;worms&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>ODBC:DISEASE,worms<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcLayer&gt;</span>worms<span class="nt">&lt;/SrcLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;GeometryType&gt;</span>wkbPoint<span class="nt">&lt;/GeometryType&gt;</span>
<span class="w">        </span><span class="nt">&lt;LayerSRS&gt;</span>WGS84<span class="nt">&lt;/LayerSRS&gt;</span>
<span class="w">        </span><span class="nt">&lt;GeometryField</span><span class="w"> </span><span class="na">encoding=</span><span class="s">&quot;PointFromColumns&quot;</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;x&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;y&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="example-renaming-attributes">
<h2>Example: Renaming attributes<a class="headerlink" href="#example-renaming-attributes" title="Link to this heading"></a></h2>
<p>It can be useful in some circumstances to be able to rename the field
names from a source layer to other names. This is particularly true when
you want to transcode to a format whose schema is fixed, such as GPX
(&lt;name&gt;, &lt;desc&gt;, etc.). This can be accomplished using SQL this way:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;remapped_layer&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>your_source.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcSQL&gt;</span>SELECT<span class="w"> </span>src_field_1<span class="w"> </span>AS<span class="w"> </span>name,<span class="w"> </span>src_field_2<span class="w"> </span>AS<span class="w"> </span>desc<span class="w"> </span>FROM<span class="w"> </span>your_source_layer_name<span class="nt">&lt;/SrcSQL&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
<p>This can also be accomplished using explicit field
definitions:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;remapped_layer&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>your_source.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcLayer&gt;</span>your_source<span class="nt">&lt;/SrcLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;Field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;src_field_1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;desc&quot;</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;src_field_2&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;String&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;45&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="example-transparent-spatial-filtering">
<h2>Example: Transparent spatial filtering<a class="headerlink" href="#example-transparent-spatial-filtering" title="Link to this heading"></a></h2>
<p>The following example will only return features from the source layer
that intersect the (0,40)-(10,50) region. Furthermore, returned
geometries will be clipped to fit into that region.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;source&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>source.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcRegion</span><span class="w"> </span><span class="na">clip=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>POLYGON((0<span class="w"> </span>40,10<span class="w"> </span>40,10<span class="w"> </span>50,0<span class="w"> </span>50,0<span class="w"> </span>40))<span class="nt">&lt;/SrcRegion&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="example-reprojected-layer">
<h2>Example: Reprojected layer<a class="headerlink" href="#example-reprojected-layer" title="Link to this heading"></a></h2>
<p>The following example will return the source.shp layer reprojected to
EPSG:4326.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTWarpedLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;source&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;SrcDataSource&gt;</span>source.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;TargetSRS&gt;</span>EPSG:4326<span class="nt">&lt;/TargetSRS&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTWarpedLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="example-union-layer">
<h2>Example: Union layer<a class="headerlink" href="#example-union-layer" title="Link to this heading"></a></h2>
<p>The following example will return a layer that is the concatenation of
source1.shp and source2.shp.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTUnionLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;unionLayer&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;source1&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;SrcDataSource&gt;</span>source1.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;source2&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;SrcDataSource&gt;</span>source2.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTUnionLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="example-sqlite-spatialite-sql-dialect">
<h2>Example: SQLite/Spatialite SQL dialect<a class="headerlink" href="#example-sqlite-spatialite-sql-dialect" title="Link to this heading"></a></h2>
<p>The following example will return four different layers which are
generated in a fly from the same polygon shapefile. The first one is the
shapefile layer as it stands. The second layer gives simplified polygons
by applying SpatiaLite function &quot;Simplify&quot; with parameter tolerance=10.
In the third layer the original geometries are replaced by their convex
hulls. In the fourth layer SpatiaLite function PointOnSurface is used
for replacing the original geometries by points which are inside the
corresponding source polygons. Note that for using the last three layers
of this VRT file GDAL must be compiled with SQLite and SpatiaLite.</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;polygons&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>polygons.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;polygons_as_simplified&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>polygons.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcSQL</span><span class="w"> </span><span class="na">dialect=</span><span class="s">&quot;sqlite&quot;</span><span class="nt">&gt;</span>SELECT<span class="w"> </span>Simplify(geometry,10)<span class="w"> </span>from<span class="w"> </span>polygons<span class="nt">&lt;/SrcSQL&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;polygons_as_hulls&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>polygons.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcSQL</span><span class="w"> </span><span class="na">dialect=</span><span class="s">&quot;sqlite&quot;</span><span class="nt">&gt;</span>SELECT<span class="w"> </span>ConvexHull(geometry)<span class="w"> </span>from<span class="w"> </span>polygons<span class="nt">&lt;/SrcSQL&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;polygons_as_points&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>polygons.shp<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcSQL</span><span class="w"> </span><span class="na">dialect=</span><span class="s">&quot;sqlite&quot;</span><span class="nt">&gt;</span>SELECT<span class="w"> </span>PointOnSurface(geometry)<span class="w"> </span>from<span class="w"> </span>polygons<span class="nt">&lt;/SrcSQL&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="example-multiple-geometry-fields">
<h2>Example: Multiple geometry fields<a class="headerlink" href="#example-multiple-geometry-fields" title="Link to this heading"></a></h2>
<p>The following example will expose all the attribute and geometry fields
of the source layer:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;test&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>PG:dbname=testdb<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
<p>To expose only part (or all!) of the fields:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;other_test&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcDataSource&gt;</span>PG:dbname=testdb<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;SrcLayer&gt;</span>test<span class="nt">&lt;/SrcLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;GeometryField</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;pg_geom_field_1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;GeometryField</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;vrt_geom_field_2&quot;</span><span class="w"> </span><span class="na">field=</span><span class="s">&quot;pg_geom_field_2&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;GeometryType&gt;</span>wkbPolygon<span class="nt">&lt;/GeometryType&gt;</span>
<span class="w">            </span><span class="nt">&lt;SRS&gt;</span>EPSG:4326<span class="nt">&lt;/SRS&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentXMin&gt;</span>-180<span class="nt">&lt;/ExtentXMin&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentYMin&gt;</span>-90<span class="nt">&lt;/ExtentYMin&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentXMax&gt;</span>180<span class="nt">&lt;/ExtentXMax&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentYMax&gt;</span>90<span class="nt">&lt;/ExtentYMax&gt;</span>
<span class="w">        </span><span class="nt">&lt;/GeometryField&gt;</span>
<span class="w">        </span><span class="nt">&lt;Field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;vrt_field_1&quot;</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;src_field_1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>w
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
<p>To reproject the 'pg_geom_field_2' geometry field to EPSG:4326:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTWarpedLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;other_test&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;SrcDataSource&gt;</span>PG:dbname=testdb<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;WarpedGeomFieldName&gt;</span>pg_geom_field_2<span class="nt">&lt;/WarpedGeomFieldName&gt;</span>
<span class="w">        </span><span class="nt">&lt;TargetSRS&gt;</span>EPSG:32631<span class="nt">&lt;/TargetSRS&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTWarpedLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
<p>To make the union of several multi-geometry layers and keep only a few
of them:</p>
<div class="highlight-XML notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;OGRVRTDataSource&gt;</span>
<span class="w">    </span><span class="nt">&lt;OGRVRTUnionLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;unionLayer&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;source1&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;SrcDataSource&gt;</span>PG:dbname=testdb<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;OGRVRTLayer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;source2&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;SrcDataSource&gt;</span>PG:dbname=testdb<span class="nt">&lt;/SrcDataSource&gt;</span>
<span class="w">        </span><span class="nt">&lt;/OGRVRTLayer&gt;</span>
<span class="w">        </span><span class="nt">&lt;GeometryField</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;pg_geom_field_2&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;GeometryType&gt;</span>wkbPolygon<span class="nt">&lt;/GeometryType&gt;</span>
<span class="w">            </span><span class="nt">&lt;SRS&gt;</span>EPSG:4326<span class="nt">&lt;/SRS&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentXMin&gt;</span>-180<span class="nt">&lt;/ExtentXMin&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentYMin&gt;</span>-90<span class="nt">&lt;/ExtentYMin&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentXMax&gt;</span>180<span class="nt">&lt;/ExtentXMax&gt;</span>
<span class="w">            </span><span class="nt">&lt;ExtentYMax&gt;</span>90<span class="nt">&lt;/ExtentYMax&gt;</span>
<span class="w">        </span><span class="nt">&lt;/GeometryField&gt;</span>
<span class="w">        </span><span class="nt">&lt;GeometryField</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;pg_geom_field_3&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;Field</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;src_field_1&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/OGRVRTUnionLayer&gt;</span>
<span class="nt">&lt;/OGRVRTDataSource&gt;</span>
</pre></div>
</div>
</section>
<section id="other-notes">
<h2>Other Notes<a class="headerlink" href="#other-notes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>When the <em>GeometryField</em> is &quot;WKT&quot; spatial filtering is applied after
extracting all rows from the source datasource. Essentially that
means there is no fast spatial filtering on WKT derived geometries.</p></li>
<li><p>When the <em>GeometryField</em> is &quot;PointFromColumns&quot;, and a <em>SrcLayer</em> (as
opposed to <em>SrcSQL</em>) is used, and a spatial filter is in effect on
the virtual layer then the spatial filter will be internally
translated into an attribute filter on the X and Y columns in the
<em>SrcLayer</em>. In cases where fast spatial filtering is important it can
be helpful to index the X and Y columns in the source datastore, if
that is possible. For instance if the source is an RDBMS. You can
turn off that feature by setting the <em>useSpatialSubquery</em> attribute
of the GeometryField element to FALSE.</p></li>
<li><p>.vrt files starting with
- &lt;OGRVRTDataSource&gt; open with ogrinfo, etc.
- &lt;VRTDataset&gt; open with gdalinfo, etc.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wasp.html" class="btn btn-neutral float-right" title="WAsP - WAsP .map format" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vfk.html" class="btn btn-neutral float-left" title="VFK - Czech Cadastral Exchange Data Format" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>