<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>gdaladdo &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/programs/gdaladdo.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c033477b"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=91613774"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="gdalattachpct" href="gdalattachpct.html" />
    <link rel="prev" title="gdal_viewshed" href="gdal_viewshed.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../index.html">
            
              <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">ダウンロード</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">プログラム</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#general">一般情報</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#raster-programs">ラスタープログラム</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_common_options.html">共通オプション</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal-config.html">gdal-config (Unix)</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal2tiles.html">gdal2tiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal2xyz.html">gdal2xyz</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_calc.html">gdal_calc</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_contour.html">gdal_contour</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_create.html">gdal_create</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_edit.html">gdal_edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_fillnodata.html">gdal_fillnodata</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_footprint.html">gdal_footprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_grid.html">gdal_grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_merge.html">gdal_merge</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_pansharpen.html">gdal_pansharpen</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_polygonize.html">gdal_polygonize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_proximity.html">gdal_proximity</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_rasterize.html">gdal_rasterize</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_retile.html">gdal_retile</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_sieve.html">gdal_sieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_translate.html">gdal_translate</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdal_viewshed.html">gdal_viewshed</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">gdaladdo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#external-overviews-in-geotiff-format">External overviews in GeoTIFF format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-blocksize-in-geotiff-overviews">Setting blocksize in Geotiff overviews</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nodata-source-validity-mask-handling-during-resampling">Nodata / source validity mask handling during resampling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multithreading">Multithreading</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-api">C API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gdalattachpct.html">gdalattachpct</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalbuildvrt.html">gdalbuildvrt</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalcompare.html">gdalcompare</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaldem.html">gdaldem</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalinfo.html">gdalinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdallocationinfo.html">gdallocationinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmanage.html">gdalmanage</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalmove.html">gdalmove</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalsrsinfo.html">gdalsrsinfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltindex.html">gdaltindex</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdaltransform.html">gdaltransform</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdalwarp.html">gdalwarp</a></li>
<li class="toctree-l3"><a class="reference internal" href="nearblack.html">nearblack</a></li>
<li class="toctree-l3"><a class="reference internal" href="pct2rgb.html">pct2rgb</a></li>
<li class="toctree-l3"><a class="reference internal" href="rgb2pct.html">rgb2pct</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#multidimensional-raster-programs">多次元ラスタープログラム</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector-programs">ベクタープログラム</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#geographic-network-programs">Geographic network programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-utilities">Other utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">ラスタードライバー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">ベクタードライバー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">ユーザー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">チュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">開発</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">コミュニティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponsors/index.html">スポンサー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">どのように貢献できますか?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">ライセンス</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="index.html">プログラム</a> &raquo;</li>
      
      <li>gdaladdo</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/programs/gdaladdo.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="gdalattachpct.html" class="btn btn-neutral float-right" title="gdalattachpct" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdal_viewshed.html" class="btn btn-neutral float-left" title="gdal_viewshed" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gdaladdo">
<span id="id1"></span><h1>gdaladdo<a class="headerlink" href="#gdaladdo" title="Link to this heading"></a></h1>
<p>Builds or rebuilds overview images.</p>
<section id="synopsis">
<span id="index-0"></span><h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="p">[</span><span class="o">--</span><span class="n">help</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">help</span><span class="o">-</span><span class="n">general</span><span class="p">]</span>
         <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="p">{</span><span class="n">nearest</span><span class="o">|</span><span class="n">average</span><span class="o">|</span><span class="n">rms</span><span class="o">|</span><span class="n">gauss</span><span class="o">|</span><span class="n">bilinear</span><span class="o">|</span><span class="n">cubic</span><span class="o">|</span><span class="n">cubicspline</span><span class="o">|</span><span class="n">lanczos</span><span class="o">|</span><span class="n">average_mp</span><span class="o">|</span><span class="n">average_magphase</span><span class="o">|</span><span class="n">mode</span><span class="p">}]</span>
         <span class="p">[</span><span class="o">-</span><span class="n">ro</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">clean</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">q</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">oo</span> <span class="o">&lt;</span><span class="n">NAME</span><span class="o">&gt;=&lt;</span><span class="n">VALUE</span><span class="o">&gt;</span><span class="p">]</span><span class="o">...</span> <span class="p">[</span><span class="o">-</span><span class="n">minsize</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">]</span>
         <span class="p">[</span><span class="o">--</span><span class="n">partial</span><span class="o">-</span><span class="n">refresh</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">timestamp</span><span class="p">]</span>
         <span class="p">[</span><span class="o">--</span><span class="n">partial</span><span class="o">-</span><span class="n">refresh</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">projwin</span> <span class="o">&lt;</span><span class="n">ulx</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">uly</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">lrx</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">lry</span><span class="o">&gt;</span><span class="p">]</span>
         <span class="p">[</span><span class="o">--</span><span class="n">partial</span><span class="o">-</span><span class="n">refresh</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">extent</span> <span class="o">&lt;</span><span class="n">filename1</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">filenameN</span><span class="o">&gt;</span><span class="p">]</span><span class="o">...</span><span class="p">]</span>
         <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">levels</span><span class="o">&gt;</span><span class="p">]</span><span class="o">...</span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p>The <strong class="program">gdaladdo</strong> utility can be used to build or rebuild overview images for
most supported file formats with one of several downsampling algorithms.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-help" title="Link to this definition"></a></dt>
<dd><p>Show this help message and exit</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-help-general">
<span class="sig-name descname"><span class="pre">--help-general</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-help-general" title="Link to this definition"></a></dt>
<dd><p>Gives a brief usage message for the generic GDAL commandline options and exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-r">
<span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"> <span class="pre">{nearest|average|rms|gauss|bilinear|cubic|cubicspline|lanczos|average_magphase|mode}</span></span><a class="headerlink" href="#cmdoption-gdaladdo-r" title="Link to this definition"></a></dt>
<dd><p>Select a resampling algorithm. The default is <code class="docutils literal notranslate"><span class="pre">nearest</span></code>, which is generally not
appropriate if sub-pixel accuracy is desired.</p>
<p>Starting with GDAL 3.9, when refreshing existing TIFF overviews, the previously
used method, as noted in the RESAMPLING metadata item of the overview, will
be used if <a class="reference internal" href="#cmdoption-gdaladdo-r"><code class="xref std std-option docutils literal notranslate"><span class="pre">-r</span></code></a> is not specified.</p>
<p>The available methods are:</p>
<p><code class="docutils literal notranslate"><span class="pre">nearest</span></code> applies a nearest neighbour (simple sampling) resampler.</p>
<p><code class="docutils literal notranslate"><span class="pre">average</span></code> computes the average of all non-NODATA contributing pixels. Starting with GDAL 3.1, this is a weighted average taking into account properly the weight of source pixels not contributing fully to the target pixel.</p>
<p><code class="docutils literal notranslate"><span class="pre">rms</span></code> computes the root mean squared / quadratic mean of all non-NODATA contributing pixels (GDAL &gt;= 3.3)</p>
<p><code class="docutils literal notranslate"><span class="pre">gauss</span></code> applies a Gaussian kernel before computing the overview,
which can lead to better results than simple averaging in e.g case of sharp edges
with high contrast or noisy patterns. The advised level values should be 2, 4, 8, ...
so that a 3x3 resampling Gaussian kernel is selected.</p>
<p><code class="docutils literal notranslate"><span class="pre">bilinear</span></code> applies a bilinear convolution kernel.</p>
<p><code class="docutils literal notranslate"><span class="pre">cubic</span></code> applies a cubic convolution kernel.</p>
<p><code class="docutils literal notranslate"><span class="pre">cubicspline</span></code> applies a B-Spline convolution kernel.</p>
<p><code class="docutils literal notranslate"><span class="pre">lanczos</span></code> applies a Lanczos windowed sinc convolution kernel.</p>
<p><code class="docutils literal notranslate"><span class="pre">average_magphase</span></code> averages complex data in mag/phase space.</p>
<p><code class="docutils literal notranslate"><span class="pre">mode</span></code> selects the value which appears most often of all the sampled points.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-b">
<span class="sig-name descname"><span class="pre">-b</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;band&gt;</span></span><a class="headerlink" href="#cmdoption-gdaladdo-b" title="Link to this definition"></a></dt>
<dd><p>Select an input band <strong>band</strong> for overview generation. Band numbering
starts from 1. Multiple <a class="reference internal" href="#cmdoption-gdaladdo-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">-b</span></code></a> switches may be used to select a set
of input bands to generate overviews.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-ro">
<span class="sig-name descname"><span class="pre">-ro</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-ro" title="Link to this definition"></a></dt>
<dd><p>open the dataset in read-only mode, in order to generate external overview
(for GeoTIFF especially).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-clean">
<span class="sig-name descname"><span class="pre">-clean</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-clean" title="Link to this definition"></a></dt>
<dd><p>remove all overviews.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-oo">
<span class="sig-name descname"><span class="pre">-oo</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;NAME&gt;=&lt;VALUE&gt;</span></span><a class="headerlink" href="#cmdoption-gdaladdo-oo" title="Link to this definition"></a></dt>
<dd><p>Dataset open option (format specific)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-minsize">
<span class="sig-name descname"><span class="pre">-minsize</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;val&gt;</span></span><a class="headerlink" href="#cmdoption-gdaladdo-minsize" title="Link to this definition"></a></dt>
<dd><p>Maximum width or height of the smallest overview level. Only taken into
account if explicit levels are not specified. Defaults to 256.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.3.</span></p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-partial-refresh-from-source-timestamp">
<span class="sig-name descname"><span class="pre">--partial-refresh-from-source-timestamp</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-partial-refresh-from-source-timestamp" title="Link to this definition"></a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8.</span></p>
</div>
<p>This option performs a partial refresh of existing overviews, when &lt;filename&gt;
is a VRT file with an external overview.
It checks the modification timestamp of all the sources of the VRT
and regenerate the overview for areas corresponding to sources whose
timestamp is more recent than the external overview of the VRT.
By default all existing overview levels will be refreshed, unless explicit
levels are specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-partial-refresh-from-projwin">
<span class="sig-name descname"><span class="pre">--partial-refresh-from-projwin</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;ulx&gt;</span> <span class="pre">&lt;uly&gt;</span> <span class="pre">&lt;lrx&gt;</span> <span class="pre">&lt;lry&gt;</span></span><a class="headerlink" href="#cmdoption-gdaladdo-partial-refresh-from-projwin" title="Link to this definition"></a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8.</span></p>
</div>
<p>This option performs a partial refresh of existing overviews, in the region
of interest specified by georeference coordinates where &lt;ulx&gt; is the X value
of the upper left corner, &lt;uly&gt; is the Y value of the upper left corner,
&lt;lrx&gt; is the X value of the lower right corner and &lt;lry&gt; is the Y value of
the lower right corner.
By default all existing overview levels will be refreshed, unless explicit
levels are specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-partial-refresh-from-source-extent">
<span class="sig-name descname"><span class="pre">--partial-refresh-from-source-extent</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;filename1&gt;[,&lt;filenameN&gt;]...</span></span><a class="headerlink" href="#cmdoption-gdaladdo-partial-refresh-from-source-extent" title="Link to this definition"></a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8.</span></p>
</div>
<p>This option performs a partial refresh of existing overviews, in the region
of interest specified by one or several filenames (names separated by comma).
Note that the filenames are only used to determine the regions of interest
to refresh. The reference source pixels are the one of the main dataset.
By default all existing overview levels will be refreshed, unless explicit
levels are specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-arg-filename">
<span class="sig-name descname"><span class="pre">&lt;filename&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-arg-filename" title="Link to this definition"></a></dt>
<dd><p>The file to build overviews for (or whose overviews must be removed).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-gdaladdo-arg-levels">
<span class="sig-name descname"><span class="pre">&lt;levels&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-gdaladdo-arg-levels" title="Link to this definition"></a></dt>
<dd><p>A list of integral overview levels to build. Ignored with <a class="reference internal" href="#cmdoption-gdaladdo-clean"><code class="xref std std-option docutils literal notranslate"><span class="pre">-clean</span></code></a> option.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.3: </span>Levels are no longer required to build overviews.
In which case, appropriate overview power-of-two factors will be selected
until the smallest overview is smaller than the value of the -minsize switch.</p>
<p>Starting with GDAL 3.9, if there are already existing overviews, the
corresponding levels will be used to refresh them if no explicit levels
are specified.</p>
</div>
</dd></dl>

<p>gdaladdo will honour properly NODATA_VALUES tuples (special dataset metadata) so
that only a given RGB triplet (in case of a RGB image) will be considered as the
nodata value and not each value of the triplet independently per band.</p>
<p>Selecting a level value like <code class="docutils literal notranslate"><span class="pre">2</span></code> causes an overview level that is 1/2
the resolution (in each dimension) of the base layer to be computed.  If
the file has existing overview levels at a level selected, those levels will
be recomputed and rewritten in place.</p>
<p>For internal GeoTIFF overviews (or external overviews in GeoTIFF format), note
that -clean does not shrink the file. A later run of gdaladdo with overview levels
will cause the file to be expanded, rather than reusing the space of the previously
deleted overviews. If you just want to change the resampling method on a file that
already has overviews computed, you don't need to clean the existing overviews.</p>
<p>Some format drivers do not support overviews at all.  Many format drivers
store overviews in a secondary file with the extension .ovr that is actually
in TIFF format.  By default, the GeoTIFF driver stores overviews internally to the file
operated on (if it is writable), unless the -ro flag is specified.</p>
<p>Most drivers also support an alternate overview format using Erdas Imagine
format.  To trigger this use the <a class="reference internal" href="../user/configoptions.html#config-USE_RRD"><code class="docutils literal notranslate"><span class="pre">USE_RRD=YES</span></code></a> configuration option.  This will
place the overviews in an associated .aux file suitable for direct use with
Imagine or ArcGIS as well as GDAL applications.  (e.g. --config USE_RRD YES)</p>
</section>
<section id="external-overviews-in-geotiff-format">
<h2>External overviews in GeoTIFF format<a class="headerlink" href="#external-overviews-in-geotiff-format" title="Link to this heading"></a></h2>
<p>External overviews created in TIFF format may be compressed using the <a class="reference internal" href="../drivers/raster/gtiff.html#config-COMPRESS_OVERVIEW"><code class="docutils literal notranslate"><span class="pre">COMPRESS_OVERVIEW</span></code></a>
configuration option.  All compression methods, supported by the GeoTIFF
driver, are available here. (e.g. <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">COMPRESS_OVERVIEW</span> <span class="pre">DEFLATE</span></code>).
The photometric interpretation can be set with the <a class="reference internal" href="../drivers/raster/gtiff.html#config-PHOTOMETRIC_OVERVIEW"><code class="docutils literal notranslate"><span class="pre">PHOTOMETRIC_OVERVIEW</span></code></a>
=RGB/YCBCR/... configuration option,
and the interleaving with the <a class="reference internal" href="../drivers/raster/gtiff.html#config-INTERLEAVE_OVERVIEW"><code class="docutils literal notranslate"><span class="pre">INTERLEAVE_OVERVIEW</span></code></a> =PIXEL/BAND configuration option.</p>
<p>Since GDAL 3.6, <a class="reference internal" href="../drivers/raster/gtiff.html#config-COMPRESS_OVERVIEW"><code class="docutils literal notranslate"><span class="pre">COMPRESS_OVERVIEW</span></code></a> and <a class="reference internal" href="../drivers/raster/gtiff.html#config-INTERLEAVE_OVERVIEW"><code class="docutils literal notranslate"><span class="pre">INTERLEAVE_OVERVIEW</span></code></a>
are honoured when creating internal overviews of TIFF files.</p>
<p>For JPEG compressed external and internal overviews, the JPEG quality can be set with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">JPEG_QUALITY_OVERVIEW</span> <span class="pre">value</span></code>.</p>
<p>For WEBP compressed external and internal overviews, the WEBP quality level can be set with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">WEBP_LEVEL_OVERVIEW</span> <span class="pre">value</span></code>. If not set, will default to 75.</p>
<p>For WEBP compressed external and internal overviews, the WEBP lossless/lossy switch can be set with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">WEBP_LOSSLESS_OVERVIEW</span> <span class="pre">value</span></code>. If not set, will default to NO (lossy). Added in GDAL 3.6.0</p>
<p>For LERC compressed external and internal overviews, the max error threshold can be set with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">MAX_Z_ERROR_OVERVIEW</span> <span class="pre">value</span></code>. If not set, will default to 0 (lossless). Added in GDAL 3.4.1</p>
<p>For DEFLATE or LERC_DEFLATE compressed external and internal overviews, the compression level can be set with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">ZLEVEL_OVERVIEW</span> <span class="pre">value</span></code>. If not set, will default to 6. Added in GDAL 3.4.1</p>
<p>For ZSTD or LERC_ZSTD compressed external and internal overviews, the compression level can be set with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">ZSTD_LEVEL_OVERVIEW</span> <span class="pre">value</span></code>. If not set, will default to 9. Added in GDAL 3.4.1</p>
<p>For JPEG-XL compressed external and internal overviews, the following settings can be set since GDAL 3.9.0:</p>
<ul class="simple">
<li><p>Whether compression should be lossless with <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">JXL_LOSSLESS_OVERVIEW</span> <span class="pre">YES|NO</span></code>. Default is YES</p></li>
<li><p>Level of effort with <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">JXL_EFFORT_OVERVIEW</span> <span class="pre">value</span></code>, with value between 1(fast) and 9(flow). Default is 5</p></li>
<li><p>Distance level for lossy compression with <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">JXL_DISTANCE_OVERVIEW</span> <span class="pre">value</span></code>, with value: 0=mathematically lossless, 1.0=visually lossless, usual range [0.5,3]. Default is 1.0. Ignored if JXL_LOSSLESS_OVERVIEW is YES</p></li>
<li><p>Distance level for lossy compression of alpha channel with <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">JXL_ALPHA_DISTANCE_OVERVIEW</span> <span class="pre">value</span></code>, with value: 0=mathematically lossless, 1.0=visually lossless, usual range [0.5,3]. Default is the same value as JXL_DISTANCE_OVERVIEW. Ignored if JXL_LOSSLESS_OVERVIEW is YES</p></li>
</ul>
<p>For LZW, ZSTD or DEFLATE compressed external overviews, the predictor value can be set
with <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">PREDICTOR_OVERVIEW</span> <span class="pre">1|2|3</span></code>.</p>
<p>To produce the smallest possible JPEG-In-TIFF overviews, you should use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">config</span> <span class="n">COMPRESS_OVERVIEW</span> <span class="n">JPEG</span> <span class="o">--</span><span class="n">config</span> <span class="n">PHOTOMETRIC_OVERVIEW</span> <span class="n">YCBCR</span> <span class="o">--</span><span class="n">config</span> <span class="n">INTERLEAVE_OVERVIEW</span> <span class="n">PIXEL</span>
</pre></div>
</div>
<p>External overviews can be created in the BigTIFF format by using
the <a class="reference internal" href="../drivers/raster/gtiff.html#config-BIGTIFF_OVERVIEW"><code class="docutils literal notranslate"><span class="pre">BIGTIFF_OVERVIEW</span></code></a> configuration option:
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">BIGTIFF_OVERVIEW</span> <span class="pre">{IF_NEEDED|IF_SAFER|YES|NO}</span></code>.</p>
<p>The default value is IF_SAFER starting with GDAL 2.3.0 (previously was IF_NEEDED).
The behavior of this option is exactly the same as the BIGTIFF creation option
documented in the GeoTIFF driver documentation.</p>
<ul class="simple">
<li><p>YES forces BigTIFF.</p></li>
<li><p>NO forces classic TIFF.</p></li>
<li><p>IF_NEEDED will only create a BigTIFF if it is clearly needed (uncompressed,
and overviews larger than 4GB).</p></li>
<li><p>IF_SAFER will create BigTIFF if the resulting file <em>might</em> exceed 4GB.</p></li>
</ul>
<p>Sparse GeoTIFF overview files (that is tiles which are omitted if all their pixels are
at the nodata value, when there's one, or at 0 otherwise) can be obtained with
<code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">SPARSE_OK_OVERVIEW</span> <span class="pre">ON</span></code>. Added in GDAL 3.4.1</p>
<p>See the documentation of the <a class="reference internal" href="../drivers/raster/gtiff.html#raster-gtiff"><span class="std std-ref">GTiff -- GeoTIFF File Format</span></a> driver for further explanations on all those options.</p>
</section>
<section id="setting-blocksize-in-geotiff-overviews">
<h2>Setting blocksize in Geotiff overviews<a class="headerlink" href="#setting-blocksize-in-geotiff-overviews" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">GDAL_TIFF_OVR_BLOCKSIZE</span> <span class="pre">&lt;size&gt;</span></code></p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">--config</span> <span class="pre">GDAL_TIFF_OVR_BLOCKSIZE</span> <span class="pre">256</span></code></p>
<p>Default value is 128, or starting with GDAL 3.1, if creating overviews on a tiled GeoTIFF file, the tile size of the full resolution image.
Note: without this setting, the file can have the full resolution image with a blocksize different from overviews blocksize.(e.g. full resolution image at blocksize 256, overviews at blocksize 128)</p>
</section>
<section id="nodata-source-validity-mask-handling-during-resampling">
<h2>Nodata / source validity mask handling during resampling<a class="headerlink" href="#nodata-source-validity-mask-handling-during-resampling" title="Link to this heading"></a></h2>
<p>Invalid values in source pixels, either identified through a nodata value
metadata set on the source band, a mask band, an alpha band will not be used
during resampling.</p>
<p>The details of how it is taken into account depends on the resampling kernel:</p>
<ul class="simple">
<li><p>for nearest resampling, for each target pixel, one of the potential contributing
source pixels is selected (in an implementation specific way). Its value is used
as it, be it valid or invalid.</p></li>
<li><p>for bilinear, cubic, cubicspline and lanczos, for each target pixel, the weights
of contributing source pixels is set to zero to ignore them when they are masked.
There is an extra specificity for cubic: given that some of the weights in the
kernel are negative, such strategy could lead to strong overshoot/undershoot
when there is an alternance of valid and invalid pixels. Consequently, if any
of the horizontal or vertical direction, if the maximum number of valid source
pixels in each dimension is less than the radius of the resampling kernel,
the target pixel is considered as nodata.</p></li>
<li><p>for the other resampling methods, source pixels contributing to the target pixel
are ignored if masked. Only the valid ones are taken into account. If there are
none, the target pixel is considered as nodata.</p></li>
</ul>
</section>
<section id="multithreading">
<h2>Multithreading<a class="headerlink" href="#multithreading" title="Link to this heading"></a></h2>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.2.</span></p>
</div>
<p>The <a class="reference internal" href="../user/configoptions.html#config-GDAL_NUM_THREADS"><code class="docutils literal notranslate"><span class="pre">GDAL_NUM_THREADS</span></code></a> configuration option can be set to
<code class="docutils literal notranslate"><span class="pre">ALL_CPUS</span></code> or a integer value to specify the number of threads to use for
overview computation.</p>
</section>
<section id="c-api">
<h2>C API<a class="headerlink" href="#c-api" title="Link to this heading"></a></h2>
<p>Functionality of this utility can be done from C with <a class="reference internal" href="../api/raster_c_api.html#_CPPv418GDALBuildOverviews12GDALDatasetHPKciPKiiPKi16GDALProgressFuncPv" title="GDALBuildOverviews"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALBuildOverviews()</span></code></a>.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>Create overviews, embedded in the supplied TIFF file, with automatic computation
of levels (GDAL 2.3 or later)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">-</span><span class="n">r</span> <span class="n">average</span> <span class="n">abc</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>Create overviews, embedded in the supplied TIFF file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">-</span><span class="n">r</span> <span class="n">average</span> <span class="n">abc</span><span class="o">.</span><span class="n">tif</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">8</span> <span class="mi">16</span>
</pre></div>
</div>
<p>Create an external compressed GeoTIFF overview file from the ERDAS .IMG file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">-</span><span class="n">ro</span> <span class="o">--</span><span class="n">config</span> <span class="n">COMPRESS_OVERVIEW</span> <span class="n">DEFLATE</span> <span class="n">erdas</span><span class="o">.</span><span class="n">img</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">8</span> <span class="mi">16</span>
</pre></div>
</div>
<p>Create an external JPEG-compressed GeoTIFF overview file from a 3-band RGB dataset
(if the dataset is a writable GeoTIFF, you also need to add the -ro option to
force the generation of external overview):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">--</span><span class="n">config</span> <span class="n">COMPRESS_OVERVIEW</span> <span class="n">JPEG</span> <span class="o">--</span><span class="n">config</span> <span class="n">PHOTOMETRIC_OVERVIEW</span> <span class="n">YCBCR</span>
         <span class="o">--</span><span class="n">config</span> <span class="n">INTERLEAVE_OVERVIEW</span> <span class="n">PIXEL</span> <span class="n">rgb_dataset</span><span class="o">.</span><span class="n">ext</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">8</span> <span class="mi">16</span>
</pre></div>
</div>
<p>Create an Erdas Imagine format overviews for the indicated JPEG file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">--</span><span class="n">config</span> <span class="n">USE_RRD</span> <span class="n">YES</span> <span class="n">airphoto</span><span class="o">.</span><span class="n">jpg</span> <span class="mi">3</span> <span class="mi">9</span> <span class="mi">27</span> <span class="mi">81</span>
</pre></div>
</div>
<p>Create overviews for a specific subdataset, like for example one of potentially many raster layers in a GeoPackage (the &quot;filename&quot; parameter must be driver prefix, filename and subdataset name, like e.g. shown by gdalinfo):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="n">GPKG</span><span class="p">:</span><span class="n">file</span><span class="o">.</span><span class="n">gpkg</span><span class="p">:</span><span class="n">layer</span>
</pre></div>
</div>
<p>Refresh overviews of a VRT file, for sources that have been modified after the
.vrt.ovr generation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdalbuildvrt</span> <span class="n">my</span><span class="o">.</span><span class="n">vrt</span> <span class="n">tile1</span><span class="o">.</span><span class="n">tif</span> <span class="n">tile2</span><span class="o">.</span><span class="n">tif</span>                          <span class="c1"># create VRT</span>
<span class="n">gdaladdo</span> <span class="o">-</span><span class="n">r</span> <span class="n">cubic</span> <span class="n">my</span><span class="o">.</span><span class="n">vrt</span>                                         <span class="c1"># initial overview generation</span>
<span class="n">touch</span> <span class="n">tile1</span><span class="o">.</span><span class="n">tif</span>                                                  <span class="c1"># simulate update of one of the source tiles</span>
<span class="n">gdaladdo</span> <span class="o">--</span><span class="n">partial</span><span class="o">-</span><span class="n">refresh</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">timestamp</span> <span class="o">-</span><span class="n">r</span> <span class="n">cubic</span> <span class="n">my</span><span class="o">.</span><span class="n">vrt</span> <span class="c1"># refresh overviews</span>
</pre></div>
</div>
<p>Refresh overviews of a TIFF file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdalwarp</span> <span class="o">-</span><span class="n">overwrite</span> <span class="n">tile1</span><span class="o">.</span><span class="n">tif</span> <span class="n">tile2</span><span class="o">.</span><span class="n">tif</span> <span class="n">mosaic</span><span class="o">.</span><span class="n">tif</span>                      <span class="c1"># create mosaic</span>
<span class="n">gdaladdo</span> <span class="o">-</span><span class="n">r</span> <span class="n">cubic</span> <span class="n">mosaic</span><span class="o">.</span><span class="n">tif</span>                                            <span class="c1"># initial overview generation</span>
<span class="n">touch</span> <span class="n">tile1</span><span class="o">.</span><span class="n">tif</span>                                                         <span class="c1"># simulate update of one of the source tiles</span>
<span class="n">gdalwarp</span> <span class="n">tile1</span><span class="o">.</span><span class="n">tif</span> <span class="n">mosaic</span><span class="o">.</span><span class="n">tif</span>                                           <span class="c1"># update mosaic</span>
<span class="n">gdaladdo</span> <span class="o">--</span><span class="n">partial</span><span class="o">-</span><span class="n">refresh</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">extent</span> <span class="n">tile1</span><span class="o">.</span><span class="n">tif</span> <span class="o">-</span><span class="n">r</span> <span class="n">cubic</span> <span class="n">my</span><span class="o">.</span><span class="n">vrt</span> <span class="c1"># refresh overviews</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gdalattachpct.html" class="btn btn-neutral float-right" title="gdalattachpct" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gdal_viewshed.html" class="btn btn-neutral float-left" title="gdal_viewshed" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>