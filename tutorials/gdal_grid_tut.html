<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GDALグリッドチュートリアル &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/tutorials/gdal_grid_tut.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c033477b"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=91613774"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="Geotransform Tutorial" href="geotransforms_tut.html" />
    <link rel="prev" title="GDAL Warp API チュートリアル (再投影、...)" href="warp_tut.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../index.html">
            
              <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">ダウンロード</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programs/index.html">プログラム</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">ラスタードライバー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">ベクタードライバー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">ユーザー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">チュートリアル</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#raster">ラスター</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_api_tut.html">ラスターAPIチュートリアル</a></li>
<li class="toctree-l3"><a class="reference internal" href="raster_driver_tut.html">ラスタードライバー実装チュートリアル</a></li>
<li class="toctree-l3"><a class="reference internal" href="warp_tut.html">GDAL Warp API チュートリアル (再投影、...)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">GDALグリッドチュートリアル</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction-to-gridding">グリッディングの紹介</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interpolation-of-the-scattered-data">散在データの補間</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-metrics-computation">Data Metrics Computation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#search-ellipse">Search Ellipse</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="geotransforms_tut.html">Geotransform Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#multidimensional-raster">多次元ラスター</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector">ベクター</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#geographic-network-model">ジオグラフィックネットワークモデル</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#projections-and-spatial-reference-systems-tutorial-osr-ogrspatialreference">投影と空間参照システムチュートリアル (OSR - OGRSpatialReference)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">開発</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">コミュニティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponsors/index.html">スポンサー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">どのように貢献できますか?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">ライセンス</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="index.html">チュートリアル</a> &raquo;</li>
      
      <li>GDALグリッドチュートリアル</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/tutorials/gdal_grid_tut.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="geotransforms_tut.html" class="btn btn-neutral float-right" title="Geotransform Tutorial" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="warp_tut.html" class="btn btn-neutral float-left" title="GDAL Warp API チュートリアル (再投影、...)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="gdal-grid-tutorial">
<span id="gdal-grid-tut"></span><h1>GDALグリッドチュートリアル<a class="headerlink" href="#gdal-grid-tutorial" title="Link to this heading"></a></h1>
<section id="introduction-to-gridding">
<h2>グリッディングの紹介<a class="headerlink" href="#introduction-to-gridding" title="Link to this heading"></a></h2>
<p>グリッディングは,散在データから正規グリッド（またはラスター画像とも呼びます）を作成するプロセスです.通常,測定地域に散在する任意のデータセットがあり,それらを正規グリッドに変換して,さらなる処理や他のグリッドとの組み合わせに使用したいと考えています.</p>
<img alt="散在データのグリッディング" src="../_images/gridding.png" />
<p>この問題は,データ補間または近似アルゴリズムを使用して解決できます.しかし,ここでは補間に限定されません.時にはデータを補間する必要がなく,代わりに領域全体で統計値やデータメトリクスを計算する必要があることがあります.統計値自体が有用であるから,補間アルゴリズムとパラメータをよりよく選択するために使用できます.</p>
<p>それがGDAL Grid APIの目的です.データを補間するのを支援します（ <a class="reference internal" href="#interpolation-of-the-scattered-data">Interpolation of the Scattered Data</a> を参照）またはデータメトリクスを計算します（ <a class="reference internal" href="#data-metrics-computation">Data Metrics Computation</a> を参照）.</p>
<p>このインターフェースを使用する方法は2つあります.プログラム的には, <a class="reference internal" href="../api/gdal_alg.html#_CPPv414GDALGridCreate17GDALGridAlgorithmPKv7GUInt32PKdPKdPKddddd7GUInt327GUInt3212GDALDataTypePv16GDALProgressFuncPv" title="GDALGridCreate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALGridCreate()</span></code></a> C関数を使用できます.エンドユーザー向けには, <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid"><span class="std std-ref">gdal_grid</span></a> ユーティリティがあります（現在の機能の最新リストについてはそちらを参照してください）.このドキュメントの残りの部分では,GDAL Grid APIで実装されているアルゴリズムとそのパラメータについて詳しく説明します.</p>
</section>
<section id="interpolation-of-the-scattered-data">
<h2>散在データの補間<a class="headerlink" href="#interpolation-of-the-scattered-data" title="Link to this heading"></a></h2>
<section id="inverse-distance-to-a-power">
<h3>逆距離法<a class="headerlink" href="#inverse-distance-to-a-power" title="Link to this heading"></a></h3>
<p>逆距離法グリッディングメソッドは,重み付き平均補間器です.散在データ値を含む入力配列と,各データ点の座標および出力グリッドジオメトリを提供する必要があります.関数は,出力グリッド内の指定された位置に対して補間値を計算します.</p>
<p>各グリッドノードに対して,次の式を使用して結果値 <span class="math notranslate nohighlight">\(Z\)</span> が計算されます:</p>
<div class="math notranslate nohighlight">
\[Z=\frac{\sum_{i=1}^n{\frac{Z_i}{r_i^p}}}{\sum_{i=1}^n{\frac{1}{r_i^p}}}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Z_i\)</span> is a known value at point <span class="math notranslate nohighlight">\(i\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(r_i\)</span> is a distance from the grid node to point <span class="math notranslate nohighlight">\(i\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(p\)</span> is a weighting power,</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> is a number of points in <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.</p></li>
</ul>
<p>The smoothing parameter <span class="math notranslate nohighlight">\(s\)</span> is used as an additive term in the Euclidean distance calculation:</p>
<div class="math notranslate nohighlight">
\[{r_i}=\sqrt{{r_{ix}}^2 + {r_{iy}}^2 + s^2}\]</div>
<p>where <span class="math notranslate nohighlight">\(r_{ix}\)</span> and <span class="math notranslate nohighlight">\(r_{iy}\)</span> are the horizontal and vertical
distances between the grid node to point <span class="math notranslate nohighlight">\(i\)</span> respectively.</p>
<p>In this method the weighting factor <span class="math notranslate nohighlight">\(w\)</span> is</p>
<div class="math notranslate nohighlight">
\[w=\frac{1}{r^p}\]</div>
<p>See <a class="reference internal" href="../api/gdal_alg.html#_CPPv438GDALGridInverseDistanceToAPowerOptions" title="GDALGridInverseDistanceToAPowerOptions"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALGridInverseDistanceToAPowerOptions</span></code></a> for the list of
<a class="reference internal" href="../api/gdal_alg.html#_CPPv414GDALGridCreate17GDALGridAlgorithmPKv7GUInt32PKdPKdPKddddd7GUInt327GUInt3212GDALDataTypePv16GDALProgressFuncPv" title="GDALGridCreate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALGridCreate()</span></code></a> parameters and <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid-invdist"><span class="std std-ref">invdist</span></a> for the list
of <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid"><span class="std std-ref">gdal_grid</span></a> options.</p>
</section>
<section id="moving-average">
<h3>Moving Average<a class="headerlink" href="#moving-average" title="Link to this heading"></a></h3>
<p>The Moving Average is a simple data averaging algorithm. It uses a moving
window of elliptic form to search values and averages all data points within
the window. <a class="reference internal" href="#search-ellipse">Search Ellipse</a> can be rotated by
specified angle, the center of ellipse located at the grid node. Also the
minimum number of data points to average can be set. If there are not enough
points in window, the grid node is considered empty and will be filled with
specified NODATA value.</p>
<p>Mathematically it can be expressed with the formula:</p>
<div class="math notranslate nohighlight">
\[Z=\frac{\sum_{i=1}^n{Z_i}}{n}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Z\)</span> is a resulting value at the grid node,</p></li>
<li><p><span class="math notranslate nohighlight">\(Z_i\)</span> is a known value at point <span class="math notranslate nohighlight">\(i\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> is a number of points in search <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.</p></li>
</ul>
<p>See <a class="reference internal" href="../api/gdal_alg.html#_CPPv428GDALGridMovingAverageOptions" title="GDALGridMovingAverageOptions"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALGridMovingAverageOptions</span></code></a> for the list of <a class="reference internal" href="../api/gdal_alg.html#_CPPv414GDALGridCreate17GDALGridAlgorithmPKv7GUInt32PKdPKdPKddddd7GUInt327GUInt3212GDALDataTypePv16GDALProgressFuncPv" title="GDALGridCreate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALGridCreate()</span></code></a>
parameters and  <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid-average"><span class="std std-ref">average</span></a> for the list of <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid"><span class="std std-ref">gdal_grid</span></a> options.</p>
</section>
<section id="nearest-neighbor">
<h3>Nearest Neighbor<a class="headerlink" href="#nearest-neighbor" title="Link to this heading"></a></h3>
<p>The Nearest Neighbor method doesn't perform any interpolation or smoothing, it
just takes the value of nearest point found in the grid node search ellipse and
returns it as a result. If there are no points found, the specified NODATA
value will be returned.</p>
<p>See <a class="reference internal" href="../api/gdal_alg.html#_CPPv430GDALGridNearestNeighborOptions" title="GDALGridNearestNeighborOptions"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALGridNearestNeighborOptions</span></code></a> for the list of <a class="reference internal" href="../api/gdal_alg.html#_CPPv414GDALGridCreate17GDALGridAlgorithmPKv7GUInt32PKdPKdPKddddd7GUInt327GUInt3212GDALDataTypePv16GDALProgressFuncPv" title="GDALGridCreate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALGridCreate()</span></code></a>
parameters and <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid-nearest"><span class="std std-ref">nearest</span></a> for the list of <a class="reference internal" href="../programs/gdal_grid.html#gdal-grid"><span class="std std-ref">gdal_grid</span></a> options.</p>
</section>
</section>
<section id="data-metrics-computation">
<h2>Data Metrics Computation<a class="headerlink" href="#data-metrics-computation" title="Link to this heading"></a></h2>
<p>All the metrics have the same set controlling options. See the
<a class="reference internal" href="../api/gdal_alg.html#_CPPv426GDALGridDataMetricsOptions" title="GDALGridDataMetricsOptions"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALGridDataMetricsOptions</span></code></a>.</p>
<section id="minimum-data-value">
<h3>Minimum Data Value<a class="headerlink" href="#minimum-data-value" title="Link to this heading"></a></h3>
<p>Minimum value found in grid node <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.
If there are no points found, the specified NODATA value will be returned.</p>
<div class="math notranslate nohighlight">
\[Z=\min{(Z_1,Z_2,\ldots,Z_n)}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Z\)</span> is a resulting value at the grid node,</p></li>
<li><p><span class="math notranslate nohighlight">\(Z_i\)</span> is a known value at point <span class="math notranslate nohighlight">\(i\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> is a number of points in <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.</p></li>
</ul>
</section>
<section id="maximum-data-value">
<h3>Maximum Data Value<a class="headerlink" href="#maximum-data-value" title="Link to this heading"></a></h3>
<p>Maximum value found in grid node <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.
If there are no points found, the specified NODATA value will be returned.</p>
<div class="math notranslate nohighlight">
\[Z=\max{(Z_1,Z_2,\ldots,Z_n)}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Z\)</span> is a resulting value at the grid node,</p></li>
<li><p><span class="math notranslate nohighlight">\(Z_i\)</span> is a known value at point <span class="math notranslate nohighlight">\(i\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> is a number of points in <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.</p></li>
</ul>
</section>
<section id="data-range">
<h3>Data Range<a class="headerlink" href="#data-range" title="Link to this heading"></a></h3>
<p>A difference between the minimum and maximum values found in grid <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.
If there are no points found, the
specified NODATA value will be returned.</p>
<div class="math notranslate nohighlight">
\[Z=\max{(Z_1,Z_2,\ldots,Z_n)}-\min{(Z_1,Z_2,\ldots,Z_n)}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Z\)</span> is a resulting value at the grid node,</p></li>
<li><p><span class="math notranslate nohighlight">\(Z_i\)</span> is a known value at point <span class="math notranslate nohighlight">\(i\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(n\)</span> is a number of points in <a class="reference internal" href="#search-ellipse">Search Ellipse</a>.</p></li>
</ul>
</section>
</section>
<section id="search-ellipse">
<h2>Search Ellipse<a class="headerlink" href="#search-ellipse" title="Link to this heading"></a></h2>
<p>Search window in gridding algorithms specified in the form of rotated ellipse.
It is described by the three parameters:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(radius_1\)</span> is the first radius (<span class="math notranslate nohighlight">\(x\)</span> axis if rotation angle is 0),</p></li>
<li><p><span class="math notranslate nohighlight">\(radius_2\)</span> is the second radius (<span class="math notranslate nohighlight">\(y\)</span> axis if rotation angle is 0),</p></li>
<li><p><span class="math notranslate nohighlight">\(angle\)</span> is a search ellipse rotation angle (rotated counter clockwise).</p></li>
</ul>
<img alt="Search ellipse" src="../_images/ellipse.png" />
<p>Only points located inside the search ellipse (including its border line) will
be used for computation.</p>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="geotransforms_tut.html" class="btn btn-neutral float-right" title="Geotransform Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="warp_tut.html" class="btn btn-neutral float-left" title="GDAL Warp API チュートリアル (再投影、...)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>