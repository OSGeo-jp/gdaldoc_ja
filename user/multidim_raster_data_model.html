<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multidimensional Raster Data Model &mdash; GDAL  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="../_static/css/gdal.css?v=e152ac3b" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="canonical" href="https://gdal.org/user/multidim_raster_data_model.html"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=c033477b"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/translations.js?v=91613774"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="Vector Data Model" href="vector_data_model.html" />
    <link rel="prev" title="ラスターデータモデル" href="raster_data_model.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../index.html">
            
              <img src="../_static/gdalicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../download.html">ダウンロード</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programs/index.html">プログラム</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/raster/index.html">ラスタードライバー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/vector/index.html">ベクタードライバー</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ユーザー</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="raster_data_model.html">ラスターデータモデル</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Multidimensional Raster Data Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#group">Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attribute">Attribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multidimensional-array">Multidimensional array</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dimension">Dimension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-type">Data Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#objects-lifetime">Objects lifetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#differences-with-the-gdal-2d-raster-data-model">Differences with the GDAL 2D raster data model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bridges-between-gdal-2d-classic-raster-data-model-and-multidimensional-data-model">Bridges between GDAL 2D classic raster data model and multidimensional data model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#applications">Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vector_data_model.html">Vector Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="gnm_data_model.html">Geographic Networks Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="multithreading.html">Multi-threading</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogr_sql_sqlite_dialect.html">OGR SQL dialect and SQLITE SQL dialect</a></li>
<li class="toctree-l2"><a class="reference internal" href="virtual_file_systems.html">GDAL仮想ファイルシステム</a></li>
<li class="toctree-l2"><a class="reference internal" href="ogr_feature_style.html">Feature Style Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="coordinate_epoch.html">Coordinate epoch support</a></li>
<li class="toctree-l2"><a class="reference internal" href="configoptions.html">Configuration options</a></li>
<li class="toctree-l2"><a class="reference internal" href="gdal_python_utilities.html">GDAL Python Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">チュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">開発</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">コミュニティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sponsors/index.html">スポンサー</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">どのように貢献できますか?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">ライセンス</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GDAL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html"> GDAL  ドキュメント </a> &raquo;</li>
      
          <li><a href="index.html">ユーザー向けドキュメント</a> &raquo;</li>
      
      <li>Multidimensional Raster Data Model</li>
    

    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSGeo/gdal/edit/master/doc/source/user/multidim_raster_data_model.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="vector_data_model.html" class="btn btn-neutral float-right" title="Vector Data Model" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="raster_data_model.html" class="btn btn-neutral float-left" title="ラスターデータモデル" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="multidimensional-raster-data-model">
<span id="multidim-raster-data-model"></span><h1>Multidimensional Raster Data Model<a class="headerlink" href="#multidimensional-raster-data-model" title="Link to this heading"></a></h1>
<p>This document attempts to describe the GDAL multidimensional data model,
that has been added in GDAL 3.1. That is
the types of information that a GDAL multidimensional dataset can contain, and their semantics.</p>
<p>The multidimensional raster API is a generalization of the traditional
<a class="reference internal" href="raster_data_model.html#raster-data-model"><span class="std std-ref">ラスターデータモデル</span></a>, to address 3D, 4D or
higher dimension datasets. Currently, it is
limited to basic read/write API, and is not that much plugged into other higher
level utilities.</p>
<p>It is strongly inspired from the netCDF and HDF5 API and data models.
See <a class="reference external" href="https://portal.opengeospatial.org/files/81716">HDF5 format and data model</a>.</p>
<p>A <a class="reference internal" href="../api/gdaldataset_cpp.html#_CPPv411GDALDataset" title="GDALDataset"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALDataset</span></code></a> with multidimensional content contains a root
<a class="reference internal" href="../api/gdalgroup_cpp.html#_CPPv49GDALGroup" title="GDALGroup"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALGroup</span></code></a>.</p>
<section id="group">
<h2>Group<a class="headerlink" href="#group" title="Link to this heading"></a></h2>
<p>A <a class="reference internal" href="../api/gdalgroup_cpp.html#_CPPv49GDALGroup" title="GDALGroup"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALGroup</span></code></a> (modelling a <a class="reference external" href="https://portal.opengeospatial.org/files/81716#_hdf5_group">HDF5 Group</a>)
is a named container of GDALAttribute, GDALMDArray or
other GDALGroup. Hence GDALGroup can describe a hierarchy of objects.</p>
</section>
<section id="attribute">
<h2>Attribute<a class="headerlink" href="#attribute" title="Link to this heading"></a></h2>
<p>A <a class="reference internal" href="../api/gdalattribute_cpp.html#_CPPv413GDALAttribute" title="GDALAttribute"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALAttribute</span></code></a> (modelling a <a class="reference external" href="https://portal.opengeospatial.org/files/81716#_hdf5_attribute">HDF5 Attribute</a>)
has a name and a value, and is typically used to describe a metadata item.
The value can be (for the HDF5 format) in the general case a multidimensional array
of &quot;any&quot; type (in most cases, this will be a single value of string or numeric type)</p>
</section>
<section id="multidimensional-array">
<h2>Multidimensional array<a class="headerlink" href="#multidimensional-array" title="Link to this heading"></a></h2>
<p>A <a class="reference internal" href="../api/gdalmdarray_cpp.html#_CPPv411GDALMDArray" title="GDALMDArray"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALMDArray</span></code></a> (modelling a <a class="reference external" href="https://portal.opengeospatial.org/files/81716#_hdf5_dataset">HDF5 Dataset</a>)
has a name, a multidimensional array, references a number of GDALDimension, and
has a list of GDALAttribute.</p>
<p>Most drivers use the row-major convention for dimensions: that is, when considering
that the array elements are stored consecutively in memory, the first dimension
is the slowest varying one (in a 2D image, the row), and the last dimension the
fastest varying one (in a 2D image, the column). That convention is the default
convention used for NumPy arrays, the MEM driver and the HDF5 and netCDF APIs.
The GDAL API is mostly agnostic
about that convention, except when passing a NULL array as the <em>stride</em> parameter
for the <a class="reference internal" href="../api/gdalabstractmdarray_cpp.html#_CPPv4NK19GDALAbstractMDArray4ReadEPK7GUInt64PK6size_tPK6GInt64PK10GPtrDiff_tRK20GDALExtendedDataTypePvPKv6size_t" title="GDALAbstractMDArray::Read"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALAbstractMDArray::Read()</span></code></a> and  <a class="reference internal" href="../api/gdalabstractmdarray_cpp.html#_CPPv4N19GDALAbstractMDArray5WriteEPK7GUInt64PK6size_tPK6GInt64PK10GPtrDiff_tRK20GDALExtendedDataTypePKvPKv6size_t" title="GDALAbstractMDArray::Write"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALAbstractMDArray::Write()</span></code></a> methods.
You can refer to <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/internals.html#multidimensional-array-indexing-order-issues">NumPy documentation about multidimensional array indexing order issues</a></p>
<p>a GDALMDArray has also optional properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>Coordinate reference system: <a class="reference internal" href="../api/ogrspatialref.html#_CPPv419OGRSpatialReference" title="OGRSpatialReference"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">OGRSpatialReference</span></code></a></p></li>
<li><p>No data value:</p></li>
<li><p>Unit</p></li>
<li><p>Offset, such that unscaled_value = offset + scale * raw_value</p></li>
<li><p>Scale, such that unscaled_value = offset + scale * raw_value</p></li>
</ul>
</div></blockquote>
<p>Number of operations can be applied on an array to get modified views of it:
<a class="reference internal" href="../api/gdalmdarray_cpp.html#_CPPv4NK11GDALMDArray9TransposeERKNSt6vectorIiEE" title="GDALMDArray::Transpose"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALMDArray::Transpose()</span></code></a>, <a class="reference internal" href="../api/gdalmdarray_cpp.html#_CPPv4NK11GDALMDArray7GetViewERKNSt6stringE" title="GDALMDArray::GetView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALMDArray::GetView()</span></code></a>, etc.</p>
<p>The <a class="reference internal" href="../api/gdalmdarray_cpp.html#_CPPv4NK11GDALMDArray5CacheE12CSLConstList" title="GDALMDArray::Cache"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALMDArray::Cache()</span></code></a> method can be used to cache the value of
a view array into a sidecar file.</p>
</section>
<section id="dimension">
<h2>Dimension<a class="headerlink" href="#dimension" title="Link to this heading"></a></h2>
<p>A <a class="reference internal" href="../api/gdaldimension_cpp.html#_CPPv413GDALDimension" title="GDALDimension"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALDimension</span></code></a> describes a dimension / axis used to index multidimensional arrays.
It has the following properties:</p>
<blockquote>
<div><ul class="simple">
<li><p>a name</p></li>
<li><p>a size, that is the number of values that can be indexed along
the dimension</p></li>
<li><p>a type, which is a string giving the nature of the dimension.
Predefined values are: HORIZONTAL_X, HORIZONTAL_Y, VERTICAL, TEMPORAL, PARAMETRIC
Other values might be used. Empty value means unknown.</p></li>
<li><p>a direction. Predefined values are:
EAST, WEST, SOUTH, NORTH, UP, DOWN, FUTURE, PAST
Other values might be used. Empty value means unknown.</p></li>
<li><p>a reference to a GDALMDArray variable, typically
one-dimensional, describing the values taken by the dimension.
For a georeferenced GDALMDArray and its X dimension, this will be typically
the values of the easting/longitude for each grid point.</p></li>
</ul>
</div></blockquote>
</section>
<section id="data-type">
<h2>Data Type<a class="headerlink" href="#data-type" title="Link to this heading"></a></h2>
<p>A <a class="reference internal" href="../api/gdalextendeddatatype_cpp.html#_CPPv420GDALExtendedDataType" title="GDALExtendedDataType"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">GDALExtendedDataType</span></code></a> (modelling a
<a class="reference external" href="https://portal.opengeospatial.org/files/81716#_hdf5_datatype">HDF5 datatype</a>)
describes the type taken by an individual value of
a GDALAttribute or GDALMDArray. Its class can be NUMERIC,
STRING or COMPOUND. For NUMERIC, the existing <a class="reference internal" href="../api/raster_c_api.html#_CPPv412GDALDataType" title="GDALDataType"><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">GDALDataType</span></code></a> enumerated
values are supported. For COMPOUND, the data type is a list of members, each
member being described by a name, a offset in byte in the compound structure and
a GDALExtendedDataType.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>The HDF5 modelisation allows for more complex datatypes.</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>HDF5 does not have native data types for complex values whereas
GDALDataType does. So a driver may decide to expose a GDT_Cxxxx datatype
from a HDF5 Compound data type representing a complex value.</p>
</div>
</section>
<section id="objects-lifetime">
<h2>Objects lifetime<a class="headerlink" href="#objects-lifetime" title="Link to this heading"></a></h2>
<p>Driver implementations of the multidimensional API are such that instances of
GDALGroup, GDALMDArray, GDALAttribute and GDALDimension can be used independently
of the objects from which they have been obtained from. So:</p>
<ul class="simple">
<li><p>the GDALGroup instance returned by <a class="reference internal" href="../api/gdaldataset_cpp.html#_CPPv4NK11GDALDataset12GetRootGroupEv" title="GDALDataset::GetRootGroup"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALDataset::GetRootGroup()</span></code></a> can
be used after the dataset has been closed.</p></li>
<li><p>Sub-groups obtained from <a class="reference internal" href="../api/gdalgroup_cpp.html#_CPPv4NK9GDALGroup9OpenGroupERKNSt6stringE12CSLConstList" title="GDALGroup::OpenGroup"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALGroup::OpenGroup()</span></code></a>
or arrays obtained from <a class="reference internal" href="../api/gdalgroup_cpp.html#_CPPv4NK9GDALGroup11OpenMDArrayERKNSt6stringE12CSLConstList" title="GDALGroup::OpenMDArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALGroup::OpenMDArray()</span></code></a> can be used after
the owning group has been released.</p></li>
<li><p>Similarly for attributes or dimensions obtained from a group or an array.</p></li>
</ul>
<p>So the following is perfectly legal:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;gdal_priv.h&quot;</span>

<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">GDALMDArray</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GetArray</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poDataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">GDALDataset</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">        </span><span class="n">GDALDataset</span><span class="o">::</span><span class="n">Open</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;in.nc&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">GDAL_OF_MULTIDIM_RASTER</span><span class="w"> </span><span class="p">));</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">poDataset</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">nullptr</span><span class="o">:</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poRootGroup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poDataset</span><span class="o">-&gt;</span><span class="n">GetRootGroup</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">poRootGroup</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">nullptr</span><span class="o">:</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poRootGroup</span><span class="o">-&gt;</span><span class="n">OpenMDArray</span><span class="p">(</span><span class="s">&quot;temperature&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">poVar</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">nullptr</span><span class="o">:</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">poVar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">GDALAllRegister</span><span class="p">();</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poVar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetArray</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">poVar</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Do something with poVar</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A potential point of attention is that, when creating / editing a dataset, all
those objects keep alive the underlying file descriptors, so changes are only
guaranteed to be serialized when all objects related to a dataset have been released.</p>
<p>Example in C++:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">GDALAllRegister</span><span class="p">();</span>

<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poDataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">GDALDataset</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">        </span><span class="n">GetGDALDriverManager</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetDriverByName</span><span class="p">(</span><span class="s">&quot;netCDF&quot;</span><span class="p">)</span><span class="o">-&gt;</span>
<span class="w">            </span><span class="n">CreateMultiDimensional</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;new.nc&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="w"> </span><span class="p">));</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poRootGroup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poDataset</span><span class="o">-&gt;</span><span class="n">GetRootGroup</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Could be closed a bit later too</span>
<span class="w">    </span><span class="n">poDataset</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>

<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poDim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poRootGroup</span><span class="o">-&gt;</span><span class="n">CreateDimension</span><span class="p">(</span>
<span class="w">        </span><span class="s">&quot;my_dim&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(),</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(),</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">poArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poRootGroup</span><span class="o">-&gt;</span><span class="n">CreateMDArray</span><span class="p">(</span>
<span class="w">        </span><span class="s">&quot;my_var&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">poDim</span><span class="p">},</span><span class="w"> </span><span class="n">GDALExtendedDataType</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">GDT_Byte</span><span class="p">),</span><span class="w"> </span><span class="k">nullptr</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Can be closed in any order</span>
<span class="w">    </span><span class="n">poArray</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>
<span class="w">    </span><span class="n">poDim</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>
<span class="w">    </span><span class="n">poRootGroup</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// new.nc is fully valid just now</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">osgeo</span> <span class="kn">import</span> <span class="n">gdal</span>

<span class="k">with</span> <span class="n">gdal</span><span class="o">.</span><span class="n">GetDriverByName</span><span class="p">(</span><span class="s2">&quot;netCDF&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">CreateMultiDimensional</span><span class="p">(</span><span class="s2">&quot;new.nc&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ds</span><span class="p">:</span>
    <span class="n">rg</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GetRootGroup</span><span class="p">()</span>
    <span class="n">dim</span> <span class="o">=</span> <span class="n">rg</span><span class="o">.</span><span class="n">CreateDimension</span><span class="p">(</span><span class="s2">&quot;my_dim&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">array</span> <span class="o">=</span> <span class="n">rg</span><span class="o">.</span><span class="n">CreateMDArray</span><span class="p">(</span><span class="s2">&quot;my_var&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">dim</span><span class="p">],</span> <span class="n">gdal</span><span class="o">.</span><span class="n">ExtendedDataType</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">gdal</span><span class="o">.</span><span class="n">GDT_Byte</span><span class="p">))</span>

    <span class="k">del</span> <span class="n">array</span>
    <span class="k">del</span> <span class="n">dim</span>
    <span class="k">del</span> <span class="n">rg</span>

<span class="c1"># new.nc is fully valid just now</span>
</pre></div>
</div>
</section>
<section id="differences-with-the-gdal-2d-raster-data-model">
<h2>Differences with the GDAL 2D raster data model<a class="headerlink" href="#differences-with-the-gdal-2d-raster-data-model" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The concept of GDALRasterBand is no longer used for multidimensional.
This can be modelled as either different GDALMDArray, or using a compound
data type.</p></li>
<li><p>There is not yet a standardized concept multi-resolution arrays/overviews in
the multidimensional API</p></li>
</ul>
</section>
<section id="bridges-between-gdal-2d-classic-raster-data-model-and-multidimensional-data-model">
<h2>Bridges between GDAL 2D classic raster data model and multidimensional data model<a class="headerlink" href="#bridges-between-gdal-2d-classic-raster-data-model-and-multidimensional-data-model" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="../api/gdalrasterband_cpp.html#_CPPv4NK14GDALRasterBand9AsMDArrayEv" title="GDALRasterBand::AsMDArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALRasterBand::AsMDArray()</span></code></a> and <a class="reference internal" href="../api/gdalmdarray_cpp.html#_CPPv4NK11GDALMDArray16AsClassicDatasetE6size_t6size_tRKNSt10shared_ptrI9GDALGroupEE12CSLConstList" title="GDALMDArray::AsClassicDataset"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GDALMDArray::AsClassicDataset()</span></code></a>
can be used to respectively convert a raster band to a MD array or a 2D dataset
to a MD array.</p>
</section>
<section id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Link to this heading"></a></h2>
<p>The following applications can be used to inspect and manipulate multidimensional
datasets:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../programs/gdalmdiminfo.html#gdalmdiminfo"><span class="std std-ref">gdalmdiminfo</span></a></p></li>
<li><p><a class="reference internal" href="../programs/gdalmdimtranslate.html#gdalmdimtranslate"><span class="std std-ref">gdalmdimtranslate</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vector_data_model.html" class="btn btn-neutral float-right" title="Vector Data Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="raster_data_model.html" class="btn btn-neutral float-left" title="ラスターデータモデル" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <div class="info">
      <a class="logo-link" href="https://osgeo.org">
        <div class="osgeo-logo"></div>
      </a>
      <div class="copyright">
      

      &copy; 1998-2024 <a href="https://github.com/warmerdam">Frank Warmerdam</a>,
      <a href="https://github.com/rouault">Even Rouault</a>, and
      <a href="https://github.com/OSGeo/gdal/graphs/contributors">others</a>


      
      </div>
    </div>
  </div>
</footer>
        </div>
      </div>
    </section>
  </div>
  
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>